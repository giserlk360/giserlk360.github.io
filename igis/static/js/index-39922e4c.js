import{B as Gt}from"./index-0e4b31d4.js";import{S as Mt}from"./index-00b20d4a.js";import"./index-8896020a.js";import{S as wt,O as bt}from"./index-e8561c46.js";import"./index-bdfc4cee.js";/* empty css              */import{r as L,b as $,h as Q,g as f,k as d,f as m,K as M,x as A,F as R,q as tt,D as C,a0 as et,e as ot,E as nt}from"./index-bbce9413.js";import{M as rt}from"./index-ac16a1f8.js";import{I as lt,a as St}from"./index-11bc5717.js";import{I as yt}from"./index-e8a5f3e2.js";import{I as Bt}from"./index-552d7d94.js";import"./constant-82db06a1.js";import"./index-d8c131de.js";import"./omit-beff4be5.js";import"./index-e204803d.js";import"./index-3eff0a75.js";import"./keyboard-37dc3bb3.js";/**
 * @preserve
 * gcoord 1.0.5, geographic coordinate library
 * Copyright (c) 2023 Jiulong Hu <me@hujiulong.com>
 */const{sin:w,cos:Dt,sqrt:Z,abs:V,PI:g}=Math,st=6378245,at=.006693421622965823;function mt(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}function Ct(t,n){let e=-100+2*t+3*n+.2*n*n+.1*t*n+.2*Z(V(t));return e+=(20*w(6*t*g)+20*w(2*t*g))*2/3,e+=(20*w(n*g)+40*w(n/3*g))*2/3,e+=(160*w(n/12*g)+320*w(n*g/30))*2/3,e}function Pt(t,n){let e=300+t+2*n+.1*t*t+.1*t*n+.1*Z(V(t));return e+=(20*w(6*t*g)+20*w(2*t*g))*2/3,e+=(20*w(t*g)+40*w(t/3*g))*2/3,e+=(150*w(t/12*g)+300*w(t/30*g))*2/3,e}function It(t,n){let e=Pt(t-105,n-35),o=Ct(t-105,n-35);const r=n/180*g;let l=w(r);l=1-at*l*l;const s=Z(l);return e=e*180/(st/s*Dt(r)*g),o=o*180/(st*(1-at)/(l*s)*g),[e,o]}function k(t){const[n,e]=t;if(!mt(n,e))return[n,e];const o=It(n,e);return[n+o[0],e+o[1]]}function N(t){const[n,e]=t;if(!mt(n,e))return[n,e];let[o,r]=[n,e],l=k([o,r]),s=l[0]-n,a=l[1]-e;for(;V(s)>1e-6||V(a)>1e-6;)o-=s,r-=a,l=k([o,r]),s=l[0]-n,a=l[1]-e;return[o,r]}const{sin:q,cos:T,atan2:ht,sqrt:pt,PI:Et}=Math,z=Et*3e3/180;function J(t){const[n,e]=t,o=n-.0065,r=e-.006,l=pt(o*o+r*r)-2e-5*q(r*z),s=ht(r,o)-3e-6*T(o*z),a=l*T(s),v=l*q(s);return[a,v]}function W(t){const[n,e]=t,o=n,r=e,l=pt(o*o+r*r)+2e-5*q(r*z),s=ht(r,o)+3e-6*T(o*z),a=l*T(s)+.0065,v=l*q(s)+.006;return[a,v]}const it=180/Math.PI,ct=Math.PI/180,X=6378137,P=20037508342789244e-9;function U(t){return[t[0]*it/X,(Math.PI*.5-2*Math.atan(Math.exp(-t[1]/X)))*it]}function K(t){const n=Math.abs(t[0])<=180?t[0]:t[0]-(t[0]<0?-1:1)*360,e=[X*n*ct,X*Math.log(Math.tan(Math.PI*.25+.5*t[1]*ct))];return e[0]>P&&(e[0]=P),e[0]<-P&&(e[0]=-P),e[1]>P&&(e[1]=P),e[1]<-P&&(e[1]=-P),e}const{abs:Y}=Math,ut=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],ft=[75,60,45,30,15,0],kt=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],Lt=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function gt(t,n,e){const o=Y(n)/e[9];let r=e[0]+e[1]*Y(t),l=e[2]+e[3]*o+e[4]*Math.pow(o,2)+e[5]*Math.pow(o,3)+e[6]*Math.pow(o,4)+e[7]*Math.pow(o,5)+e[8]*Math.pow(o,6);return r*=t<0?-1:1,l*=n<0?-1:1,[r,l]}function H(t){const[n,e]=t;let o=[];for(let r=0;r<ft.length;r++)if(Y(e)>ft[r]){o=Lt[r];break}return gt(n,e,o)}function F(t){const[n,e]=t;let o=[];for(let r=0;r<ut.length;r++)if(e>=ut[r]){o=kt[r];break}return gt(n,e,o)}function I(t,n){if(!t)throw new Error(n)}function vt(t){return!!t&&Object.prototype.toString.call(t)==="[object Array]"}function dt(t){return!isNaN(Number(t))&&t!==null&&!vt(t)}function y(...t){const n=t.length-1;return function(...e){let o=n,r=t[n].apply(null,e);for(;o--;)r=t[o].call(null,r);return r}}function _t(t,n,e=!1){if(t===null)return;let o,r,l,s,a,v,x=0,B=0,D,O;const{type:j}=t,h=j==="FeatureCollection",u=j==="Feature",p=h?t.features.length:1;for(let b=0;b<p;b++){D=h?t.features[b].geometry:u?t.geometry:t,O=D?D.type==="GeometryCollection":!1,v=O?D.geometries.length:1;for(let _=0;_<v;_++){let G=0,c=0;if(s=O?D.geometries[_]:D,s===null)continue;const S=s.type;switch(x=e&&(S==="Polygon"||S==="MultiPolygon")?1:0,S){case null:break;case"Point":if(a=s.coordinates,n(a,B,b,G,c)===!1)return!1;B++,G++;break;case"LineString":case"MultiPoint":for(a=s.coordinates,o=0;o<a.length;o++){if(n(a[o],B,b,G,c)===!1)return!1;B++,S==="MultiPoint"&&G++}S==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(a=s.coordinates,o=0;o<a.length;o++){for(r=0;r<a[o].length-x;r++){if(n(a[o][r],B,b,G,c)===!1)return!1;B++}S==="MultiLineString"&&G++,S==="Polygon"&&c++}S==="Polygon"&&G++;break;case"MultiPolygon":for(a=s.coordinates,o=0;o<a.length;o++){for(c=0,r=0;r<a[o].length;r++){for(l=0;l<a[o][r].length-x;l++){if(n(a[o][r][l],B,b,G,c)===!1)return!1;B++}c++}G++}break;case"GeometryCollection":for(o=0;o<s.geometries.length;o++)if(_t(s.geometries[o],n,e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}var i;(function(t){t.WGS84="WGS84",t.WGS1984="WGS84",t.EPSG4326="WGS84",t.GCJ02="GCJ02",t.AMap="GCJ02",t.BD09="BD09",t.BD09LL="BD09",t.Baidu="BD09",t.BMap="BD09",t.BD09MC="BD09MC",t.BD09Meter="BD09MC",t.EPSG3857="EPSG3857",t.EPSG900913="EPSG3857",t.EPSG102100="EPSG3857",t.WebMercator="EPSG3857",t.WM="EPSG3857"})(i||(i={}));const Jt={to:{[i.GCJ02]:k,[i.BD09]:y(W,k),[i.BD09MC]:y(H,W,k),[i.EPSG3857]:K}},Nt={to:{[i.WGS84]:N,[i.BD09]:W,[i.BD09MC]:y(H,W),[i.EPSG3857]:y(K,N)}},Wt={to:{[i.WGS84]:y(N,J),[i.GCJ02]:J,[i.EPSG3857]:y(K,N,J),[i.BD09MC]:H}},xt={to:{[i.WGS84]:U,[i.GCJ02]:y(k,U),[i.BD09]:y(W,k,U),[i.BD09MC]:y(H,W,k,U)}},Ot={to:{[i.WGS84]:y(N,J,F),[i.GCJ02]:y(J,F),[i.EPSG3857]:y(K,N,J,F),[i.BD09]:F}},$t={WGS84:Jt,GCJ02:Nt,BD09:Wt,EPSG3857:xt,BD09MC:Ot};var jt=$t;function At(t,n,e){if(I(!!t,"The args[0] input coordinate is required"),I(!!n,"The args[1] original coordinate system is required"),I(!!e,"The args[2] target coordinate system is required"),n===e)return t;const o=jt[n];I(!!o,`Invalid original coordinate system: ${n}`);const r=o.to[e];I(!!r,`Invalid target coordinate system: ${e}`);const l=typeof t;if(I(l==="string"||l==="object",`Invalid input coordinate type: ${l}`),l==="string")try{t=JSON.parse(t)}catch{throw new Error(`Invalid input coordinate: ${t}`)}let s=!1;vt(t)&&(I(t.length>=2,`Invalid input coordinate: ${t}`),I(dt(t[0])&&dt(t[1]),`Invalid input coordinate: ${t}`),t=t.map(Number),s=!0);const a=r;return s?a(t):(_t(t,v=>{[v[0],v[1]]=a(v)}),t)}const E=Object.assign(Object.assign({},i),{CRSTypes:i,transform:At}),Ut={class:"w-full min-h-[calc(100vh-58px)]"},Ft={class:"flex items-center ml-10 mt-10 w-1/2"},Vt={class:"flex items-center w-1/3 mr-5"},qt=f("h3",{class:"mr-5 w-2/3"},"\u8F6C\u6362\u524D\u5750\u6807\u7CFB",-1),Tt={class:"flex items-center w-1/3 mr-5"},zt=f("h3",{class:"mr-5 w-2/3"},"\u8F6C\u6362\u540E\u5750\u6807\u7CFB",-1),Xt={class:"flex items-center w-1/3 ml-5"},Kt={class:"flex justify-between"},Ht={"w-full":"",flex:""},Qt={class:"w-1/2 m-5"},Yt={class:"w-full flex justify-between items-center"},Zt=f("h2",{class:"m-5"},"\u8F6C\u6362\u524D\u5750\u6807",-1),Rt={class:"buttons mr-5"},te={class:"pl-5 pr-5"},ee={class:"w-1/2 m-5"},oe={class:"w-full flex justify-between items-center"},ne=f("h2",{class:"m-5"},"\u8F6C\u6362\u540E\u5750\u6807",-1),re={class:"buttons mr-5"},le={class:"pl-5 pr-5"},Se={__name:"index",setup(t){const n=L(null),e=L([{label:"WGS84",value:E.WGS84},{label:"GCJ02",value:E.GCJ02},{label:"BD09",value:E.BD09},{label:"WebMercator",value:E.WebMercator}]),o=L(E.WGS84),r=L(E.WGS84),l=L(`  //\u7C98\u8D34\u6216\u4E0A\u4F20\u9700\u8981\u8F6C\u6362\u7684\u5750\u6807\u6570\u636E
  //\u652F\u6301\u8F6C\u6362\u7684\u6570\u636E\u683C\u5F0F
  //1. \u5355\u4E2A\u6570\u7EC4\u{1F447}
  // [
  //     121.134174,
  //     27.786029
  // ]
  //2.\u591A\u4E2A\u6570\u7EC4\u5D4C\u5957\u{1F447}
  // [
  //     [113.00018437474967,37.95992863432143],
  //     [106.32049687474967,31.987726366726363],
  //     [113.61541874974967,29.648110896899723],
  //     [113.61541874974967,9.648110896899723]
  // ]
  //3.\u6807\u51C6GeoJSON`),s=L(""),a=()=>{l.value="",s.value=""},v={autorefresh:!0,smartIndent:!0,tabSize:4,mode:"application/json",theme:"dracula",matchBrackets:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lint:!1,lineNumbers:!0,indentUnit:2,foldGutter:!0,styleActiveLine:!0},x=()=>{let h=s.value;console.log("copyText",h),h!==""&&(navigator.clipboard.writeText(h),rt.success("\u590D\u5236\u6210\u529F"))},B=()=>{if(o.value===r.value){rt.warning("\u8F6C\u6362\u524D\u5750\u6807\u7CFB\u4E0E\u8F6C\u6362\u540E\u5750\u6807\u7CFB\u4E0D\u80FD\u76F8\u540C");return}if(l.value!==""){const h=JSON.parse(l.value);if(Array.isArray(h[0])){let u=h.map(p=>E.transform(p,o.value,r.value));s.value=JSON.stringify(u,null,2)}else{let u=E.transform(h,o.value,r.value);s.value=JSON.stringify(u,null,2)}l.value=JSON.stringify(JSON.parse(l.value),null,2)}},D=()=>{n.value.click()},O=h=>{const u=h.target.files[0];if(!u)return;const p=new FileReader;p.onload=b=>{try{const _=JSON.parse(b.target.result);l.value=JSON.stringify(_,null,2)}catch(_){console.error("Error parsing GeoJSON file:",_)}},p.readAsText(u)},j=()=>{const h=new Blob([s.value],{type:"application/json"}),u=URL.createObjectURL(h),p=document.createElement("a");p.href=u,p.download="\u5750\u6807\u7CFB.json",document.body.appendChild(p),p.click(),setTimeout(()=>{URL.revokeObjectURL(u),document.body.removeChild(p)},0)};return(h,u)=>{const p=bt,b=wt,_=Gt,G=Mt;return $(),Q("div",Ut,[f("div",Ft,[f("div",Vt,[qt,d(b,{modelValue:M(o),"onUpdate:modelValue":u[0]||(u[0]=c=>A(o)?o.value=c:null),class:"w-1/3"},{default:m(()=>[($(!0),Q(R,null,tt(M(e),(c,S)=>($(),ot(p,{key:S,value:c.value},{default:m(()=>[C(nt(c.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f("div",Tt,[zt,d(b,{modelValue:M(r),"onUpdate:modelValue":u[1]||(u[1]=c=>A(r)?r.value=c:null),class:"w-1/3"},{default:m(()=>[($(!0),Q(R,null,tt(M(e),(c,S)=>($(),ot(p,{key:S,value:c.value},{default:m(()=>[C(nt(c.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),f("div",Xt,[d(_,{type:"primary",onClick:B,class:"mr-5"},{default:m(()=>[C(" \u8F6C\u6362 ")]),_:1})])]),f("div",Kt,[f("div",Ht,[f("div",Qt,[f("div",Yt,[Zt,f("div",Rt,[d(G,null,{default:m(()=>[d(_,{onClick:a},{icon:m(()=>[d(M(lt))]),default:m(()=>[C("\u6E05\u7A7A")]),_:1}),d(_,{onClick:D},{icon:m(()=>[d(M(St))]),default:m(()=>[C("\u4E0A\u4F20\u6587\u4EF6")]),_:1}),f("input",{ref_key:"fileInput",ref:n,type:"file",style:{display:"none"},onChange:O},null,544)]),_:1})])]),f("div",te,[d(M(et),{value:M(l),"onUpdate:value":u[2]||(u[2]=c=>A(l)?l.value=c:null),options:v,height:600},null,8,["value"])])]),f("div",ee,[f("div",oe,[ne,f("div",re,[d(G,null,{default:m(()=>[d(_,{onClick:x},{icon:m(()=>[d(M(yt))]),default:m(()=>[C("\u590D\u5236")]),_:1}),d(_,{onClick:a},{icon:m(()=>[d(M(lt))]),default:m(()=>[C("\u6E05\u7A7A")]),_:1}),d(_,{onClick:j},{icon:m(()=>[d(M(Bt))]),default:m(()=>[C("\u4E0B\u8F7D")]),_:1})]),_:1})])]),f("div",le,[d(M(et),{value:M(s),"onUpdate:value":u[3]||(u[3]=c=>A(s)?s.value=c:null),options:v,height:600},null,8,["value"])])])])])])}}};export{Se as default};
