import{g as E,e as o,_ as T,E as oe,z as se,c as de,B as A,s as ce,d as fe}from"./index-0e4b31d4.js";import{i as P}from"./index.es-53dca8d1.js";import{d as j,c as _,b as U,h as Y,j as q,n as H,g as G,t as ve,r as C,A as z,k as f,J as me,F as be}from"./index-bbce9413.js";import{I as pe}from"./index-e204803d.js";import{I as ge}from"./index-24d3e248.js";import{I as _e}from"./index-617968ed.js";import{g as ye,K as F}from"./keyboard-37dc3bb3.js";const he=j({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const t=E("icon"),c=_(()=>[t,`${t}-up`,{[`${t}-spin`]:e.spin}]),g=_(()=>{const i={};return e.size&&(i.fontSize=o(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:c,innerStyle:g,onClick:i=>{a("click",i)}}}}),xe=["stroke-width","stroke-linecap","stroke-linejoin"],ke=G("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),$e=[ke];function we(e,a,t,c,g,h){return U(),Y("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:q(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...i)=>e.onClick&&e.onClick(...i))},$e,14,xe)}var B=T(he,[["render",we]]);const Se=Object.assign(B,{install:(e,a)=>{var t;const c=(t=a==null?void 0:a.iconPrefix)!=null?t:"";e.component(c+B.name,B)}}),Ce=j({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const t=E("icon"),c=_(()=>[t,`${t}-minus`,{[`${t}-spin`]:e.spin}]),g=_(()=>{const i={};return e.size&&(i.fontSize=o(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:c,innerStyle:g,onClick:i=>{a("click",i)}}}}),Me=["stroke-width","stroke-linecap","stroke-linejoin"],Ve=G("path",{d:"M5 24h38"},null,-1),Ne=[Ve];function ze(e,a,t,c,g,h){return U(),Y("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:q(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...i)=>e.onClick&&e.onClick(...i))},Ne,14,Me)}var I=T(Ce,[["render",ze]]);const Be=Object.assign(I,{install:(e,a)=>{var t;const c=(t=a==null?void 0:a.iconPrefix)!=null?t:"";e.component(c+I.name,I)}});var Ie=Object.defineProperty,W=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,K=(e,a,t)=>a in e?Ie(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Ee=(e,a)=>{for(var t in a||(a={}))Oe.call(a,t)&&K(e,t,a[t]);if(W)for(var t of W(a))Pe.call(a,t)&&K(e,t,a[t]);return e};const je=800,Re=150;P.enableBoundaryChecking(!1);var O=j({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1},inputAttrs:{type:Object}},emits:{"update:modelValue":e=>!0,change:(e,a)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,a,t)=>!0},setup(e,{emit:a,slots:t}){var c;const{size:g,disabled:h}=ve(e),i=E("input-number"),M=C(),{mergedSize:J,mergedDisabled:v,eventHandlers:Q}=oe({size:g,disabled:h}),{mergedSize:$}=se(J),w=_(()=>{if(o(e.precision)){const n=`${e.step}`.split(".")[1],u=n&&n.length||0;return Math.max(u,e.precision)}}),y=n=>{var u,l;if(!o(n))return"";const d=w.value?n.toFixed(w.value):String(n);return(l=(u=e.formatter)==null?void 0:u.call(e,d))!=null?l:d},s=C(y((c=e.modelValue)!=null?c:e.defaultValue)),r=_(()=>{var n,u;if(!s.value)return;const l=Number((u=(n=e.parser)==null?void 0:n.call(e,s.value))!=null?u:s.value);return Number.isNaN(l)?void 0:l}),m=C(o(r.value)&&r.value<=e.min),b=C(o(r.value)&&r.value>=e.max);let x=0;const p=()=>{x&&(window.clearTimeout(x),x=0)},V=n=>{if(!de(n))return o(e.min)&&n<e.min&&(n=e.min),o(e.max)&&n>e.max&&(n=e.max),o(w.value)?P.round(n,w.value):n},k=n=>{let u=!1,l=!1;o(n)&&(n<=e.min&&(u=!0),n>=e.max&&(l=!0)),b.value!==l&&(b.value=l),m.value!==u&&(m.value=u)},R=()=>{const n=V(r.value),u=y(n);(n!==r.value||s.value!==u)&&(s.value=u),a("update:modelValue",n)};z(()=>e.min,n=>{const u=o(r.value)&&r.value<=n;m.value!==u&&(m.value=u),o(r.value)&&r.value<n&&R()}),z(()=>e.max,n=>{const u=o(r.value)&&r.value>=n;b.value!==u&&(b.value=u),o(r.value)&&r.value>n&&R()});const N=(n,u)=>{if(v.value||n==="plus"&&b.value||n==="minus"&&m.value)return;let l;o(r.value)?l=V(P[n](r.value,e.step)):l=e.min===-1/0?0:e.min,s.value=y(l),k(l),a("update:modelValue",l),a("change",l,u)},S=(n,u,l=!1)=>{var d;n.preventDefault(),(d=M.value)==null||d.focus(),N(u,n),l&&(x=window.setTimeout(()=>n.target.dispatchEvent(n),x?Re:je))},X=(n,u)=>{var l,d,D,L;n=n.trim().replace(/ã€‚/g,"."),n=(d=(l=e.parser)==null?void 0:l.call(e,n))!=null?d:n,(o(Number(n))||/^(\.|-)$/.test(n))&&(s.value=(L=(D=e.formatter)==null?void 0:D.call(e,n))!=null?L:n,k(r.value),e.modelEvent==="input"&&a("update:modelValue",r.value),a("input",r.value,s.value,u))},Z=n=>{a("focus",n)},ee=(n,u)=>{const l=V(r.value),d=y(l);(l!==r.value||s.value!==d)&&(s.value=d,k(l)),me(()=>{o(e.modelValue)&&e.modelValue!==l&&(s.value=y(e.modelValue),k(e.modelValue))}),a("update:modelValue",l),a("change",l,u)},ne=n=>{a("blur",n)},te=n=>{var u,l;s.value="",a("update:modelValue",void 0),a("change",void 0,n),(l=(u=Q.value)==null?void 0:u.onChange)==null||l.call(u,n),a("clear",n)},ae=ye(new Map([[F.ARROW_UP,n=>{n.preventDefault(),!e.readOnly&&N("plus",n)}],[F.ARROW_DOWN,n=>{n.preventDefault(),!e.readOnly&&N("minus",n)}]]));z(()=>e.modelValue,n=>{n!==r.value&&(s.value=y(n),k(n))});const le=()=>{var n,u,l;return e.readOnly?null:f(be,null,[(n=t.suffix)==null?void 0:n.call(t),f("div",{class:`${i}-step`},[f("button",{class:[`${i}-step-button`,{[`${i}-step-button-disabled`]:v.value||b.value}],type:"button",tabindex:"-1",disabled:v.value||b.value,onMousedown:d=>S(d,"plus",!0),onMouseup:p,onMouseleave:p},[t.plus?(u=t.plus)==null?void 0:u.call(t):f(Se,null,null)]),f("button",{class:[`${i}-step-button`,{[`${i}-step-button-disabled`]:v.value||m.value}],type:"button",tabindex:"-1",disabled:v.value||m.value,onMousedown:d=>S(d,"minus",!0),onMouseup:p,onMouseleave:p},[t.minus?(l=t.minus)==null?void 0:l.call(t):f(pe,null,null)])])])},ue=_(()=>[i,`${i}-mode-${e.mode}`,`${i}-size-${$.value}`,{[`${i}-readonly`]:e.readOnly}]),ie=()=>f(A,{size:$.value,tabindex:"-1",class:`${i}-step-button`,disabled:v.value||m.value,onMousedown:n=>S(n,"minus",!0),onMouseup:p,onMouseleave:p},{icon:()=>f(Be,null,null)}),re=()=>f(A,{size:$.value,tabindex:"-1",class:`${i}-step-button`,disabled:v.value||b.value,onMousedown:n=>S(n,"plus",!0),onMouseup:p,onMouseleave:p},{icon:()=>f(ge,null,null)});return{inputRef:M,render:()=>{const n=e.mode==="embed"?{prepend:t.prepend,prefix:t.prefix,suffix:e.hideButton?t.suffix:le,append:t.append}:{prepend:e.hideButton?t.prepend:ie,prefix:t.prefix,suffix:t.suffix,append:e.hideButton?t.append:re};return f(_e,{key:`__arco__${e.mode}`,ref:M,class:ue.value,type:"text",allowClear:e.allowClear,size:$.value,modelValue:s.value,placeholder:e.placeholder,disabled:v.value,readonly:e.readOnly,error:e.error,inputAttrs:Ee({role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":s.value},e.inputAttrs),onInput:X,onFocus:Z,onBlur:ne,onClear:te,onChange:ee,onKeydown:ae},n)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Ye=Object.assign(O,{install:(e,a)=>{ce(e,a);const t=fe(a);e.component(t+O.name,O)}});export{Ye as I,Be as a};
