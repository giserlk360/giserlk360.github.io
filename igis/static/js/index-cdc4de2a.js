import{g as S,x as Oe,y as pe,c as je,E as Ne,f as H,h as Me,q as Re,I as Fe,B as Te,e as me,_ as N,s as Ae,d as We}from"./index-f4cbd495.js";import{c as se,p as De,d as X,e as Ge}from"./pick-54898f76.js";import{F as qe,E as He,I as ue}from"./index-07042804.js";import{u as Ze}from"./use-cursor-4dfbe545.js";import{d as $,t as Y,r as g,c as d,A as Ke,k as c,u as j,D as Ue,O as Je,F as Qe,b as _,h as ee,j as ne,n as he,g as M,m as Xe,a as E,e as O,s as Ye,f as x,l as B,a0 as ce,i as en}from"./index-11858259.js";import{u as nn}from"./index-d8ffbaa6.js";var tn=Object.defineProperty,de=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,fe=(e,a,n)=>a in e?tn(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,ve=(e,a)=>{for(var n in a||(a={}))an.call(a,n)&&fe(e,n,a[n]);if(de)for(var n of de(a))ln.call(a,n)&&fe(e,n,a[n]);return e},I=$({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,a)=>!0,change:(e,a)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:a,slots:n,attrs:i}){const{size:f,disabled:v,error:o,modelValue:b}=Y(e),r=S("input"),s=g(),{mergedSize:te,mergedDisabled:p,mergedError:k,feedback:L,eventHandlers:C}=Oe({size:f,disabled:v,error:o}),{mergedSize:ae}=pe(te),[ye,be]=Ze(s),R=g(e.defaultValue),h=d(()=>{var t;return(t=e.modelValue)!=null?t:R.value});Ke(b,t=>{(je(t)||Ne(t))&&(R.value="")});let F=h.value;const T=g(!1),ge=d(()=>e.allowClear&&!p.value&&Boolean(h.value)),z=g(!1),le=g(""),w=t=>{var l;return Re(e.wordLength)?e.wordLength(t):(l=t.length)!=null?l:0},P=d(()=>w(h.value)),oe=d(()=>k.value||Boolean(H(e.maxLength)&&e.maxLength.errorOnly&&P.value>m.value)),A=d(()=>H(e.maxLength)&&Boolean(e.maxLength.errorOnly)),m=d(()=>H(e.maxLength)?e.maxLength.length:e.maxLength),_e=d(()=>{const t=w("a");return Math.floor(m.value/t)}),W=t=>{var l,u;m.value&&!A.value&&w(t)>m.value&&(t=(u=(l=e.wordSlice)==null?void 0:l.call(e,t,m.value))!=null?u:t.slice(0,_e.value)),R.value=t,a("update:modelValue",t)},$e=t=>{s.value&&t.target!==s.value&&(t.preventDefault(),s.value.focus())},D=(t,l)=>{var u,y;t!==F&&(F=t,a("change",t,l),(y=(u=C.value)==null?void 0:u.onChange)==null||y.call(u,l))},ke=t=>{var l,u;T.value=!0,F=h.value,a("focus",t),(u=(l=C.value)==null?void 0:l.onFocus)==null||u.call(l,t)},Ce=t=>{var l,u;T.value=!1,D(h.value,t),a("blur",t),(u=(l=C.value)==null?void 0:l.onBlur)==null||u.call(l,t)},G=t=>{var l,u,y;const{value:q,selectionStart:Ve,selectionEnd:Ee}=t.target;if(t.type==="compositionend"){if(z.value=!1,le.value="",m.value&&!A.value&&P.value>=m.value&&w(q)>m.value&&Ve===Ee){V();return}W(q),a("input",q,t),(u=(l=C.value)==null?void 0:l.onInput)==null||u.call(l,t),V()}else z.value=!0,le.value=h.value+((y=t.data)!=null?y:"")},V=()=>{ye(),Je(()=>{s.value&&h.value!==s.value.value&&(s.value.value=h.value,be())})},we=t=>{var l,u;const{value:y}=t.target;if(!z.value){if(m.value&&!A.value&&P.value>=m.value&&w(y)>m.value&&t.inputType==="insertText"){V();return}W(y),a("input",y,t),(u=(l=C.value)==null?void 0:l.onInput)==null||u.call(l,t),V()}},xe=t=>{W(""),D("",t),a("clear",t)},Be=t=>{const l=t.key||t.code;!z.value&&l===He.key&&(D(h.value,t),a("pressEnter",t))},Ie=d(()=>[`${r}-outer`,`${r}-outer-size-${ae.value}`,{[`${r}-outer-has-suffix`]:Boolean(n.suffix),[`${r}-outer-disabled`]:p.value}]),Se=d(()=>[`${r}-wrapper`,{[`${r}-error`]:oe.value,[`${r}-disabled`]:p.value,[`${r}-focus`]:T.value}]),Le=d(()=>[r,`${r}-size-${ae.value}`]),re=d(()=>Me(i,se)),ze=d(()=>De(i,se)),Pe=d(()=>{const t=ve(ve({},ze.value),e.inputAttrs);return oe.value&&(t["aria-invalid"]=!0),t}),ie=t=>{var l;return c("span",j({class:Se.value,onMousedown:$e},t?void 0:re.value),[n.prefix&&c("span",{class:`${r}-prefix`},[n.prefix()]),c("input",j({ref:s,class:Le.value,value:h.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:p.value,onInput:we,onKeydown:Be,onFocus:ke,onBlur:Ce,onCompositionstart:G,onCompositionupdate:G,onCompositionend:G},Pe.value),null),ge.value&&c(X,{prefix:r,class:`${r}-clear-btn`,onClick:xe},{default:()=>[c(Ge,null,null)]}),(n.suffix||Boolean(e.maxLength)&&e.showWordLimit||Boolean(L.value))&&c("span",{class:[`${r}-suffix`,{[`${r}-suffix-has-feedback`]:L.value}]},[Boolean(e.maxLength)&&e.showWordLimit&&c("span",{class:`${r}-word-limit`},[P.value,Ue("/"),m.value]),(l=n.suffix)==null?void 0:l.call(n),Boolean(L.value)&&c(qe,{type:L.value},null)])])};return{inputRef:s,render:()=>n.prepend||n.append?c("span",j({class:Ie.value},re.value),[n.prepend&&c("span",{class:`${r}-prepend`},[n.prepend()]),ie(!0),n.append&&c("span",{class:`${r}-append`},[n.append()])]):ie()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),Z=$({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,a)=>!0},setup(e,{emit:a,slots:n}){const{size:i}=Y(e),f=S("input-search"),{mergedSize:v}=pe(i),o=g(),b=p=>{o.value.inputRef&&a("search",o.value.inputRef.value,p)},r=()=>{var p;return c(Qe,null,[e.loading?c(Fe,null,null):c(X,{onClick:b},{default:()=>[c(ue,null,null)]}),(p=n.suffix)==null?void 0:p.call(n)])},s=()=>{var p;let k={};return e.buttonText||n["button-default"]||n["button-icon"]?k={default:(p=n["button-default"])!=null?p:e.buttonText?()=>e.buttonText:void 0,icon:n["button-icon"]}:k={icon:()=>c(ue,null,null)},c(Te,j({type:"primary",class:`${f}-btn`,disabled:e.disabled,size:v.value,loading:e.loading},e.buttonProps,{onClick:b}),k)};return{inputRef:o,render:()=>c(I,{ref:o,class:f,size:v.value,disabled:e.disabled},{prepend:n.prepend,prefix:n.prefix,suffix:e.searchButton?n.suffix:r,append:e.searchButton?s:n.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const on=$({name:"IconEye",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const n=S("icon"),i=d(()=>[n,`${n}-eye`,{[`${n}-spin`]:e.spin}]),f=d(()=>{const o={};return e.size&&(o.fontSize=me(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:f,onClick:o=>{a("click",o)}}}}),rn=["stroke-width","stroke-linecap","stroke-linejoin"],sn=M("path",{"clip-rule":"evenodd",d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z"},null,-1),un=M("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},null,-1),cn=[sn,un];function dn(e,a,n,i,f,v){return _(),ee("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ne(e.cls),style:he(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...o)=>e.onClick&&e.onClick(...o))},cn,14,rn)}var K=N(on,[["render",dn]]);const fn=Object.assign(K,{install:(e,a)=>{var n;const i=(n=a==null?void 0:a.iconPrefix)!=null?n:"";e.component(i+K.name,K)}}),vn=$({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const n=S("icon"),i=d(()=>[n,`${n}-eye-invisible`,{[`${n}-spin`]:e.spin}]),f=d(()=>{const o={};return e.size&&(o.fontSize=me(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:f,onClick:o=>{a("click",o)}}}}),pn=["stroke-width","stroke-linecap","stroke-linejoin"],mn=M("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),hn=M("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),yn=[mn,hn];function bn(e,a,n,i,f,v){return _(),ee("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ne(e.cls),style:he(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...o)=>e.onClick&&e.onClick(...o))},yn,14,pn)}var U=N(vn,[["render",bn]]);const gn=Object.assign(U,{install:(e,a)=>{var n;const i=(n=a==null?void 0:a.iconPrefix)!=null?n:"";e.component(i+U.name,U)}}),_n=$({name:"InputPassword",components:{IconEye:fn,IconEyeInvisible:gn,AIconHover:X,AInput:I},props:{visibility:{type:Boolean,default:void 0},defaultVisibility:{type:Boolean,default:!0},invisibleButton:{type:Boolean,default:!0}},emits:["visibility-change","update:visibility"],setup(e,{emit:a}){const{visibility:n,defaultVisibility:i}=Y(e),f=g(),v=()=>{r(!o.value)},[o,b]=nn(i.value,Xe({value:n})),r=s=>{s!==o.value&&(a("visibility-change",s),a("update:visibility",s),b(s))};return{inputRef:f,mergedVisible:o,handleInvisible:v}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function $n(e,a,n,i,f,v){const o=E("icon-eye"),b=E("icon-eye-invisible"),r=E("a-icon-hover"),s=E("a-input");return _(),O(s,{ref:"inputRef",type:e.mergedVisible?"password":"text"},Ye({_:2},[e.$slots.prepend?{name:"prepend",fn:x(()=>[B(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:x(()=>[B(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:x(()=>[e.invisibleButton?(_(),O(r,{key:0,onClick:e.handleInvisible,onMousedown:a[0]||(a[0]=ce(()=>{},["prevent"])),onMouseup:a[1]||(a[1]=ce(()=>{},["prevent"]))},{default:x(()=>[e.mergedVisible?(_(),O(b,{key:1})):(_(),O(o,{key:0}))]),_:1},8,["onClick"])):en("v-if",!0),B(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:x(()=>[B(e.$slots,"append")])}:void 0]),1032,["type"])}var J=N(_n,[["render",$n]]);const kn=$({name:"InputGroup",setup(){return{prefixCls:S("input-group")}}});function Cn(e,a,n,i,f,v){return _(),ee("div",{class:ne(e.prefixCls)},[B(e.$slots,"default")],2)}var Q=N(kn,[["render",Cn]]);const Pn=Object.assign(I,{Search:Z,Password:J,Group:Q,install:(e,a)=>{Ae(e,a);const n=We(a);e.component(n+I.name,I),e.component(n+Q.name,Q),e.component(n+Z.name,Z),e.component(n+J.name,J)}});export{Pn as I};
