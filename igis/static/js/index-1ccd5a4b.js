import{d as L,c as g,b as R,h as G,j as T,n as fe,g as Q,z as pe,k as j,r as C,e as D,f as K,a0 as rt,T as st,o as ae,a as ne,u as de,l as N,i as W,A as U,t as re,v as ee,G as We,H as qe,O as ve,p as Ue,m as oe,Z as it,Y as Ye,B as Ze,D as Be,E as Me,I as ut,F as ct,q as dt}from"./index-9dabb459.js";import{g as q,e as Z,_ as te,r as Xe,s as Ce,d as ke,o as he,b as Te,f as X,k as vt,A as Je,x as Qe,m as J,c as ft,E as pt,C as et,q as tt,K as mt,l as ht}from"./index-20d5b39b.js";import{u as bt}from"./index-f7b41976.js";import{S as gt}from"./index-e89587c2.js";import{R as yt}from"./index-9f5fbd1e.js";import{d as je}from"./pick-a694abbe.js";import{g as St,K as ie}from"./keyboard-6d0cf82f.js";const $t=L({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=q("icon"),r=g(()=>[l,`${l}-empty`,{[`${l}-spin`]:e.spin}]),u=g(()=>{const a={};return e.size&&(a.fontSize=Z(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:u,onClick:a=>{t("click",a)}}}}),_t=["stroke-width","stroke-linecap","stroke-linejoin"],Ot=Q("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1),Ct=[Ot];function kt(e,t,l,r,u,n){return R(),G("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:T(e.cls),style:fe(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},Ct,14,_t)}var be=te($t,[["render",kt]]);const wt=Object.assign(be,{install:(e,t)=>{var l;const r=(l=t==null?void 0:t.iconPrefix)!=null?l:"";e.component(r+be.name,be)}});var ge=L({name:"Empty",props:{description:String,imgSrc:String,inConfigProvider:{type:Boolean,default:!1}},setup(e,{slots:t}){const l=q("empty"),{t:r}=bt(),u=pe(Xe,void 0);return()=>{var n,a,o,c;return!e.inConfigProvider&&(u==null?void 0:u.slots.empty)&&!(t.image||e.imgSrc||e.description)?u.slots.empty({component:"empty"}):j("div",{class:l},[j("div",{class:`${l}-image`},[(a=(n=t.image)==null?void 0:n.call(t))!=null?a:e.imgSrc?j("img",{src:e.imgSrc,alt:e.description||"empty"},null):j(wt,null,null)]),j("div",{class:`${l}-description`},[(c=(o=t.default)==null?void 0:o.call(t))!=null?c:e.description||r("empty.description")])])}}});const It=Object.assign(ge,{install:(e,t)=>{Ce(e,t);const l=ke(t);e.component(l+ge.name,ge)}}),zt=L({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:t}){const l=q("scrollbar"),r=C(!1),u=C(),n=C(),a=g(()=>e.direction==="horizontal"?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"}),o=C(0),c=C(!1),S=C(0),p=g(()=>{var y,d;return{[a.value.size]:`${(d=(y=e.data)==null?void 0:y.thumbSize)!=null?d:0}px`,[a.value.direction]:`${o.value}px`}}),O=y=>{y.preventDefault(),n.value&&(S.value=y[a.value.client]-n.value.getBoundingClientRect()[a.value.direction],c.value=!0,he(window,"mousemove",f),he(window,"mouseup",_),he(window,"contextmenu",_))},b=y=>{var d,i,m,s;if(y.preventDefault(),n.value){const v=$(y[a.value.client]>n.value.getBoundingClientRect()[a.value.direction]?o.value+((i=(d=e.data)==null?void 0:d.thumbSize)!=null?i:0):o.value-((s=(m=e.data)==null?void 0:m.thumbSize)!=null?s:0));v!==o.value&&(o.value=v,t("scroll",v))}},$=y=>y<0?0:e.data&&y>e.data.max?e.data.max:y,f=y=>{if(u.value&&n.value){const d=$(y[a.value.client]-u.value.getBoundingClientRect()[a.value.direction]-S.value);d!==o.value&&(o.value=d,t("scroll",d))}},_=()=>{c.value=!1,Te(window,"mousemove",f),Te(window,"mouseup",_)},P=y=>{c.value||(y=$(y),y!==o.value&&(o.value=y))},M=g(()=>[`${l}-thumb`,`${l}-thumb-direction-${e.direction}`,{[`${l}-thumb-dragging`]:c.value}]);return{visible:r,trackRef:u,thumbRef:n,prefixCls:l,thumbCls:M,thumbStyle:p,handleThumbMouseDown:O,handleTrackClick:b,setOffset:P}}});function Pt(e,t,l,r,u,n){return R(),D(st,null,{default:K(()=>[Q("div",{ref:"trackRef",class:T([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:t[1]||(t[1]=rt((...a)=>e.handleTrackClick&&e.handleTrackClick(...a),["self"]))},[Q("div",{ref:"thumbRef",class:T(e.thumbCls),style:fe(e.thumbStyle),onMousedown:t[0]||(t[0]=(...a)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...a))},[Q("div",{class:T(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)]),_:1})}var Rt=te(zt,[["render",Pt]]);const Ee=20,ue=15,Bt=L({name:"Scrollbar",components:{ResizeObserver:yt,Thumb:Rt},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:t}){const l=q("scrollbar"),r=C(),u=C(),n=C(),a=C(),o=C(),c=C(!1),S=C(!1),p=g(()=>c.value&&!e.disableHorizontal),O=g(()=>S.value&&!e.disableVertical),b=C(!1),$=()=>{var i,m,s,v,z,k;if(r.value){const{clientWidth:h,clientHeight:I,offsetWidth:E,offsetHeight:V,scrollWidth:H,scrollHeight:w,scrollTop:B,scrollLeft:F}=r.value;c.value=H>h,S.value=w>I,b.value=p.value&&O.value;const A=e.type==="embed"&&b.value?E-ue:E,x=e.type==="embed"&&b.value?V-ue:V,le=Math.round(A/Math.min(H/h,A/Ee)),Y=A-le,se=(H-h)/Y,Pe=Math.round(x/Math.min(w/I,x/Ee)),Re=x-Pe,at=(w-I)/Re;if(u.value={ratio:se,thumbSize:le,max:Y},n.value={ratio:at,thumbSize:Pe,max:Re},B>0){const me=Math.round(B/((m=(i=n.value)==null?void 0:i.ratio)!=null?m:1));(s=o.value)==null||s.setOffset(me)}if(F>0){const me=Math.round(F/((z=(v=n.value)==null?void 0:v.ratio)!=null?z:1));(k=a.value)==null||k.setOffset(me)}}};ae(()=>{$()});const f=()=>{$()},_=i=>{var m,s,v,z,k,h;if(r.value){if(p.value&&!e.disableHorizontal){const I=Math.round(r.value.scrollLeft/((s=(m=u.value)==null?void 0:m.ratio)!=null?s:1));(v=a.value)==null||v.setOffset(I)}if(O.value&&!e.disableVertical){const I=Math.round(r.value.scrollTop/((k=(z=n.value)==null?void 0:z.ratio)!=null?k:1));(h=o.value)==null||h.setOffset(I)}}t("scroll",i)},P=i=>{var m,s;r.value&&r.value.scrollTo({left:i*((s=(m=u.value)==null?void 0:m.ratio)!=null?s:1)})},M=i=>{var m,s;r.value&&r.value.scrollTo({top:i*((s=(m=n.value)==null?void 0:m.ratio)!=null?s:1)})},y=g(()=>{const i={};return e.type==="track"&&(p.value&&(i.paddingBottom=`${ue}px`),O.value&&(i.paddingRight=`${ue}px`)),[i,e.outerStyle]}),d=g(()=>[`${l}`,`${l}-type-${e.type}`,{[`${l}-both`]:b.value},e.outerClass]);return{prefixCls:l,cls:d,style:y,containerRef:r,horizontalThumbRef:a,verticalThumbRef:o,horizontalData:u,verticalData:n,isBoth:b,hasHorizontalScrollbar:p,hasVerticalScrollbar:O,handleResize:f,handleScroll:_,handleHorizontalScroll:P,handleVerticalScroll:M}},methods:{scrollTo(e,t){var l,r;X(e)?(l=this.$refs.containerRef)==null||l.scrollTo(e):(e||t)&&((r=this.$refs.containerRef)==null||r.scrollTo(e,t))},scrollTop(e){var t;(t=this.$refs.containerRef)==null||t.scrollTo({top:e})},scrollLeft(e){var t;(t=this.$refs.containerRef)==null||t.scrollTo({left:e})}}});function Mt(e,t,l,r,u,n){const a=ne("ResizeObserver"),o=ne("thumb");return R(),G("div",{class:T(e.cls),style:fe(e.style)},[j(a,{onResize:e.handleResize},{default:K(()=>[Q("div",de({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:t[0]||(t[0]=(...c)=>e.handleScroll&&e.handleScroll(...c))}),[j(a,{onResize:e.handleResize},{default:K(()=>[N(e.$slots,"default")]),_:3},8,["onResize"])],16)]),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(R(),D(o,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):W("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(R(),D(o,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):W("v-if",!0)],6)}var ye=te(Bt,[["render",Mt]]);const Tt=Object.assign(ye,{install:(e,t)=>{Ce(e,t);const l=ke(t);e.component(l+ye.name,ye)}}),jt=e=>{const t=C(),l=()=>vt(t.value)?t.value.$refs[e]:t.value,r=C();return ae(()=>{r.value=l()}),U([t],()=>{r.value=l()}),{componentRef:t,elementRef:r}};var Et=Object.defineProperty,Ve=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,Ae=(e,t,l)=>t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Dt=(e,t)=>{for(var l in t||(t={}))Vt.call(t,l)&&Ae(e,l,t[l]);if(Ve)for(var l of Ve(t))At.call(t,l)&&Ae(e,l,t[l]);return e};const Ht=e=>{const t=g(()=>Boolean(e.value)),l=g(()=>{if(!!e.value)return Dt({type:"embed"},Je(e.value)?void 0:e.value)});return{displayScrollbar:t,scrollbarProps:l}},xt=L({name:"SelectDropdown",components:{ScrollbarComponent:Tt,Empty:It,Spin:gt},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:t,slots:l}){var r,u,n;const{scrollbar:a}=re(e),o=q("select-dropdown"),c=pe(Xe,void 0),S=(n=(u=c==null?void 0:(r=c.slots).empty)==null?void 0:u.call(r,{component:"select"}))==null?void 0:n[0],{componentRef:p,elementRef:O}=jt("containerRef"),{displayScrollbar:b,scrollbarProps:$}=Ht(a),f=P=>{const{scrollTop:M,scrollHeight:y,offsetHeight:d}=P.target;y-(M+d)<=e.bottomOffset&&t("reachBottom",P),t("scroll",P)},_=g(()=>[o,{[`${o}-has-header`]:Boolean(l.header),[`${o}-has-footer`]:Boolean(l.footer)}]);return{prefixCls:o,SelectEmpty:S,cls:_,wrapperRef:O,wrapperComRef:p,handleScroll:f,displayScrollbar:b,scrollbarProps:$}}});function Nt(e,t,l,r,u,n){const a=ne("spin");return R(),G("div",{class:T(e.cls)},[e.$slots.header&&(!e.empty||e.showHeaderOnEmpty)?(R(),G("div",{key:0,class:T(`${e.prefixCls}-header`)},[N(e.$slots,"header")],2)):W("v-if",!0),e.loading?(R(),D(a,{key:1,class:T(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(R(),G("div",{key:2,class:T(`${e.prefixCls}-empty`)},[N(e.$slots,"empty",{},()=>[(R(),D(ee(e.SelectEmpty?e.SelectEmpty:"Empty")))])],2)):W("v-if",!0),e.virtualList&&!e.loading&&!e.empty?N(e.$slots,"virtual-list",{key:3}):W("v-if",!0),e.virtualList?W("v-if",!0):We((R(),D(ee(e.displayScrollbar?"ScrollbarComponent":"div"),de({key:4,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:K(()=>[Q("ul",{class:T(`${e.prefixCls}-list`)},[N(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[qe,!e.loading&&!e.empty]]),e.$slots.footer&&(!e.empty||e.showFooterOnEmpty)?(R(),G("div",{key:5,class:T(`${e.prefixCls}-footer`)},[N(e.$slots,"footer")],2)):W("v-if",!0)],2)}var kl=te(xt,[["render",Nt]]),De=L({name:"IconCheck",render(){return j("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},[j("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"},null)])}});const lt=Symbol("ArcoCheckboxGroup");var ce=L({name:"Checkbox",components:{IconCheck:De,IconHover:je},props:{modelValue:{type:[Boolean,Array],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean]},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:l}){const{disabled:r,modelValue:u}=re(e),n=q("checkbox"),a=C(),o=e.uninjectGroupContext?void 0:pe(lt,void 0),c=(o==null?void 0:o.name)==="ArcoCheckboxGroup",{mergedDisabled:S,eventHandlers:p}=Qe({disabled:r}),O=C(e.defaultChecked),b=g(()=>{var i;return c?o==null?void 0:o.computedValue:(i=e.modelValue)!=null?i:O.value}),$=g(()=>{var i;return J(b.value)?b.value.includes((i=e.value)!=null?i:!0):b.value}),f=g(()=>(o==null?void 0:o.disabled)||(S==null?void 0:S.value)||!$.value&&(o==null?void 0:o.isMaxed)),_=i=>{i.stopPropagation()},P=i=>{var m,s,v,z;const{checked:k}=i.target;let h=k;if(J(b.value)){const I=new Set(b.value);k?I.add((m=e.value)!=null?m:!0):I.delete((s=e.value)!=null?s:!0),h=Array.from(I)}O.value=k,c&&J(h)?o==null||o.handleChange(h,i):(t("update:modelValue",h),t("change",h,i),(z=(v=p.value)==null?void 0:v.onChange)==null||z.call(v,i)),ve(()=>{a.value&&a.value.checked!==$.value&&(a.value.checked=$.value)})},M=g(()=>[n,{[`${n}-checked`]:$.value,[`${n}-indeterminate`]:e.indeterminate,[`${n}-disabled`]:f.value}]),y=i=>{var m,s;(s=(m=p.value)==null?void 0:m.onFocus)==null||s.call(m,i)},d=i=>{var m,s;(s=(m=p.value)==null?void 0:m.onBlur)==null||s.call(m,i)};return U(u,i=>{(ft(i)||pt(i))&&(O.value=!1)}),U(b,i=>{var m;let s;J(i)?s=i.includes((m=e.value)!=null?m:!0):s=i,O.value!==s&&(O.value=s),a.value&&a.value.checked!==s&&(a.value.checked=s)}),()=>{var i,m,s,v;return j("label",{"aria-disabled":f.value,class:M.value},[j("input",{ref:a,type:"checkbox",checked:$.value,value:e.value,class:`${n}-target`,disabled:f.value,onClick:_,onChange:P,onFocus:y,onBlur:d},null),(v=(s=(m=l.checkbox)!=null?m:(i=o==null?void 0:o.slots)==null?void 0:i.checkbox)==null?void 0:s({checked:$.value,disabled:f.value}))!=null?v:j(je,{class:`${n}-icon-hover`,disabled:f.value||$.value},{default:()=>[j("div",{class:`${n}-icon`},[$.value&&j(De,{class:`${n}-icon-check`},null)])]}),l.default&&j("span",{class:`${n}-label`},[l.default()])])}}}),Se=L({name:"CheckboxGroup",props:{modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},max:{type:Number},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:l}){const{disabled:r}=re(e),u=q("checkbox-group"),{mergedDisabled:n,eventHandlers:a}=Qe({disabled:r}),o=C(e.defaultValue),c=g(()=>J(e.modelValue)?e.modelValue:o.value),S=g(()=>e.max===void 0?!1:c.value.length>=e.max),p=g(()=>{var f;return((f=e.options)!=null?f:[]).map(_=>et(_)||Z(_)?{label:_,value:_}:_)});Ue(lt,oe({name:"ArcoCheckboxGroup",computedValue:c,disabled:n,isMaxed:S,slots:l,handleChange:(f,_)=>{var P,M;o.value=f,t("update:modelValue",f),t("change",f,_),(M=(P=a.value)==null?void 0:P.onChange)==null||M.call(P,_)}}));const b=g(()=>[u,`${u}-direction-${e.direction}`]);U(()=>e.modelValue,f=>{J(f)?o.value=[...f]:o.value=[]});const $=()=>p.value.map(f=>{const _=c.value.includes(f.value);return j(ce,{key:f.value,value:f.value,disabled:f.disabled||!_&&S.value,indeterminate:f.indeterminate,modelValue:_},{default:()=>[l.label?l.label({data:f}):tt(f.label)?f.label():f.label]})});return()=>{var f;return j("span",{class:b.value},[p.value.length>0?$():(f=l.default)==null?void 0:f.call(l)])}}});const Lt=Object.assign(ce,{Group:Se,install:(e,t)=>{Ce(e,t);const l=ke(t);e.component(l+ce.name,ce),e.component(l+Se.name,Se)}}),nt=Symbol("ArcoSelectContext");var Ft=Object.defineProperty,Gt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,xe=(e,t,l)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,we=(e,t)=>{for(var l in t||(t={}))Wt.call(t,l)&&xe(e,l,t[l]);if(He)for(var l of He(t))qt.call(t,l)&&xe(e,l,t[l]);return e},ot=(e,t)=>Gt(e,Kt(t));const Ut=e=>X(e)&&"isGroup"in e,Yt=e=>X(e)&&"isGroup"in e,Zt=(e,t="value")=>String(X(e)?e[t]:e),_e=(e,t="value")=>X(e)?`__arco__option__object__${e[t]}`:e||Z(e)||et(e)||Je(e)?`__arco__option__${typeof e}-${e}`:"",wl=e=>e.has("__arco__option__string-"),Xt=(e,{valueKey:t,fieldNames:l,origin:r,index:u=-1})=>{var n;if(X(e)){const o=e[l.value];return{raw:e,index:u,key:_e(o,t),origin:r,value:o,label:(n=e[l.label])!=null?n:Zt(o,t),render:e[l.render],disabled:Boolean(e[l.disabled]),tagProps:e[l.tagProps]}}const a={value:e,label:String(e),disabled:!1};return we({raw:a,index:u,key:_e(e,t),origin:r},a)},Oe=(e,{valueKey:t,fieldNames:l,origin:r,optionInfoMap:u})=>{var n;const a=[];for(const o of e)if(Ut(o)){const c=Oe((n=o.options)!=null?n:[],{valueKey:t,fieldNames:l,origin:r,optionInfoMap:u});c.length>0&&a.push(ot(we({},o),{key:`__arco__group__${o.label}`,options:c}))}else{const c=Xt(o,{valueKey:t,fieldNames:l,origin:r});a.push(c),u.get(c.key)||u.set(c.key,c)}return a},Ne=(e,{inputValue:t,filterOption:l})=>{const r=u=>{var n;const a=[];for(const o of u)if(Yt(o)){const c=r((n=o.options)!=null?n:[]);c.length>0&&a.push(ot(we({},o),{options:c}))}else Ie(o,{inputValue:t,filterOption:l})&&a.push(o);return a};return r(e)},Ie=(e,{inputValue:t,filterOption:l})=>tt(l)?!t||l(t,e.raw):l?e.label.toLowerCase().includes((t!=null?t:"").toLowerCase()):!0,Jt=(e,t)=>{if(!e||!t||e.length!==t.length)return!1;for(const l of Object.keys(e))if(!ze(e[l],t[l]))return!1;return!0},Qt=(e,t)=>{if(!e||!t)return!1;const{length:l}=e;if(l!==t.length)return!1;for(let r=0;r<l;r++)if(!ze(e[r],t[r]))return!1;return!0},ze=(e,t)=>{const l=Object.prototype.toString.call(e);return l!==Object.prototype.toString.call(t)?!1:l==="[object Object]"?Jt(e,t):l==="[object Array]"?Qt(e,t):l==="[object Function]"?e===t?!0:e.toString()===t.toString():e===t},el=L({name:"Option",components:{Checkbox:Lt},props:{value:{type:[String,Number,Boolean,Object],default:void 0},label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:t,tagProps:l,index:r}=re(e),u=q("select-option"),n=pe(nt,void 0),a=Ze(),o=C(),c=C(l.value);U(l,(s,v)=>{ze(s,v)||(c.value=s)});const S=C(""),p=g(()=>{var s,v;return(v=(s=e.value)!=null?s:e.label)!=null?v:S.value}),O=g(()=>{var s;return(s=e.label)!=null?s:S.value}),b=g(()=>_e(p.value,n==null?void 0:n.valueKey)),$=g(()=>{var s;return(s=n==null?void 0:n.component)!=null?s:"li"}),f=()=>{var s;if(!e.label&&o.value){const v=(s=o.value.textContent)!=null?s:"";S.value!==v&&(S.value=v)}};ae(()=>f()),it(()=>f());const _=g(()=>{var s;return(s=n==null?void 0:n.valueKeys.includes(b.value))!=null?s:!1}),P=g(()=>(n==null?void 0:n.activeKey)===b.value);let M=C(!0);if(!e.internal){const s=oe({raw:{value:p,label:O,disabled:t,tagProps:c},ref:o,index:r,key:b,origin:"slot",value:p,label:O,disabled:t,tagProps:c});M=g(()=>Ie(s,{inputValue:n==null?void 0:n.inputValue,filterOption:n==null?void 0:n.filterOption})),a&&(n==null||n.addSlotOptionInfo(a.uid,s)),Ye(()=>{a&&(n==null||n.removeSlotOptionInfo(a.uid))})}const y=s=>{e.disabled||n==null||n.onSelect(b.value,s)},d=()=>{e.disabled||n==null||n.setActiveKey(b.value)},i=()=>{e.disabled||n==null||n.setActiveKey()},m=g(()=>[u,{[`${u}-disabled`]:e.disabled,[`${u}-selected`]:_.value,[`${u}-active`]:P.value,[`${u}-multiple`]:n==null?void 0:n.multiple}]);return{prefixCls:u,cls:m,selectCtx:n,itemRef:o,component:$,isSelected:_,isValid:M,handleClick:y,handleMouseEnter:d,handleMouseLeave:i}}});function tl(e,t,l,r,u,n){const a=ne("checkbox");return We((R(),D(ee(e.component),{ref:"itemRef",class:T([e.cls,{[`${e.prefixCls}-has-suffix`]:Boolean(e.$slots.suffix)}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:K(()=>[e.$slots.icon?(R(),G("span",{key:0,class:T(`${e.prefixCls}-icon`)},[N(e.$slots,"icon")],2)):W("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(R(),D(a,{key:1,class:T(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:K(()=>[N(e.$slots,"default",{},()=>[Be(Me(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(R(),G("span",{key:2,class:T(`${e.prefixCls}-content`)},[N(e.$slots,"default",{},()=>[Be(Me(e.label),1)])],2)),e.$slots.suffix?(R(),G("span",{key:3,class:T(`${e.prefixCls}-suffix`)},[N(e.$slots,"suffix")],2)):W("v-if",!0)]),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[qe,e.isValid]])}var Il=te(el,[["render",tl]]),ll=Object.defineProperty,nl=Object.defineProperties,ol=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,al=Object.prototype.hasOwnProperty,rl=Object.prototype.propertyIsEnumerable,Fe=(e,t,l)=>t in e?ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,$e=(e,t)=>{for(var l in t||(t={}))al.call(t,l)&&Fe(e,l,t[l]);if(Le)for(var l of Le(t))rl.call(t,l)&&Fe(e,l,t[l]);return e},sl=(e,t)=>nl(e,ol(t));const il={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},ul=({options:e,extraOptions:t,inputValue:l,filterOption:r,showExtraOptions:u,valueKey:n,fieldNames:a})=>{const o=g(()=>$e($e({},il),a==null?void 0:a.value)),c=oe(new Map),S=g(()=>Array.from(c.values()).sort((d,i)=>Z(d.index)&&Z(i.index)?d.index-i.index:0)),p=g(()=>{var d,i;const m=new Map;return{optionInfos:Oe((d=e==null?void 0:e.value)!=null?d:[],{valueKey:(i=n==null?void 0:n.value)!=null?i:"value",fieldNames:o.value,origin:"options",optionInfoMap:m}),optionInfoMap:m}}),O=g(()=>{var d,i;const m=new Map;return{optionInfos:Oe((d=t==null?void 0:t.value)!=null?d:[],{valueKey:(i=n==null?void 0:n.value)!=null?i:"value",fieldNames:o.value,origin:"extraOptions",optionInfoMap:m}),optionInfoMap:m}}),b=oe(new Map);U([S,e!=null?e:C([]),t!=null?t:C([]),n!=null?n:C("value")],()=>{b.clear(),S.value.forEach((d,i)=>{b.set(d.key,sl($e({},d),{index:i}))}),p.value.optionInfoMap.forEach(d=>{b.has(d.key)||(d.index=b.size,b.set(d.key,d))}),O.value.optionInfoMap.forEach(d=>{b.has(d.key)||(d.index=b.size,b.set(d.key,d))})},{immediate:!0,deep:!0});const $=g(()=>{var d;const i=Ne(p.value.optionInfos,{inputValue:l==null?void 0:l.value,filterOption:r==null?void 0:r.value});return((d=u==null?void 0:u.value)==null||d)&&i.push(...Ne(O.value.optionInfos,{inputValue:l==null?void 0:l.value,filterOption:r==null?void 0:r.value})),i}),f=g(()=>Array.from(b.values()).filter(d=>d.origin==="extraOptions"&&(u==null?void 0:u.value)===!1?!1:Ie(d,{inputValue:l==null?void 0:l.value,filterOption:r==null?void 0:r.value}))),_=g(()=>f.value.filter(d=>!d.disabled).map(d=>d.key));return{validOptions:$,optionInfoMap:b,validOptionInfos:f,enabledOptionKeys:_,getNextSlotOptionIndex:()=>c.size,addSlotOptionInfo:(d,i)=>{c.set(d,i)},removeSlotOptionInfo:d=>{c.delete(d)}}},zl=({multiple:e,options:t,extraOptions:l,inputValue:r,filterOption:u,showExtraOptions:n,component:a,valueKey:o,fieldNames:c,loading:S,popupVisible:p,valueKeys:O,dropdownRef:b,optionRefs:$,virtualListRef:f,onSelect:_,onPopupVisibleChange:P,enterToOpen:M=!0,defaultActiveFirstOption:y})=>{const{validOptions:d,optionInfoMap:i,validOptionInfos:m,enabledOptionKeys:s,getNextSlotOptionIndex:v,addSlotOptionInfo:z,removeSlotOptionInfo:k}=ul({options:t,extraOptions:l,inputValue:r,filterOption:u,showExtraOptions:n,valueKey:o,fieldNames:c}),h=C();U(s,w=>{(!h.value||!w.includes(h.value))&&(h.value=w[0])});const I=w=>{h.value=w},E=w=>{const B=s.value.length;if(B===0)return;if(!h.value)return w==="down"?s.value[0]:s.value[B-1];const F=s.value.indexOf(h.value),A=(B+F+(w==="up"?-1:1))%B;return s.value[A]},V=w=>{var B,F;f!=null&&f.value&&f.value.scrollTo({key:w});const A=i.get(w),x=(B=b==null?void 0:b.value)==null?void 0:B.wrapperRef,le=(F=$==null?void 0:$.value[w])!=null?F:A==null?void 0:A.ref;if(!x||!le||x.scrollHeight===x.offsetHeight)return;const Y=mt(le,x),se=x.scrollTop;Y.top<0?x.scrollTo(0,se+Y.top):Y.bottom<0&&x.scrollTo(0,se-Y.bottom)};U(p,w=>{var B;if(w){const F=O.value[O.value.length-1];let A=(B=y==null?void 0:y.value)==null||B?s.value[0]:void 0;s.value.includes(F)&&(A=F),A!==h.value&&(h.value=A),ve(()=>{h.value&&V(h.value)})}});const H=St(new Map([[ie.ENTER,w=>{!(S!=null&&S.value)&&!w.isComposing&&(p.value?h.value&&(_(h.value,w),w.preventDefault()):M&&(P(!0),w.preventDefault()))}],[ie.ESC,w=>{p.value&&(P(!1),w.preventDefault())}],[ie.ARROW_DOWN,w=>{if(p.value){const B=E("down");B&&(h.value=B,V(B)),w.preventDefault()}}],[ie.ARROW_UP,w=>{if(p.value){const B=E("up");B&&(h.value=B,V(B)),w.preventDefault()}}]]));return Ue(nt,oe({multiple:e,valueKey:o,inputValue:r,filterOption:u,component:a,valueKeys:O,activeKey:h,setActiveKey:I,onSelect:_,getNextSlotOptionIndex:v,addSlotOptionInfo:z,removeSlotOptionInfo:k})),{validOptions:d,optionInfoMap:i,validOptionInfos:m,enabledOptionKeys:s,activeKey:h,setActiveKey:I,addSlotOptionInfo:z,removeSlotOptionInfo:k,getNextActiveKey:E,scrollIntoView:V,handleKeyDown:H}},cl=({dataKeys:e,contentRef:t,fixedSize:l,estimatedSize:r,buffer:u})=>{const n=C(0),a=new Map,o=g(()=>e.value.length),c=C(0),S=g(()=>{const v=c.value+u.value*3;return v>o.value?o.value:v}),p=g(()=>{const v=o.value-u.value*3;return v<0?0:v}),O=v=>{v<0?c.value=0:v>p.value?c.value=p.value:c.value=v},b=C(l.value),$=g(()=>r.value!==30?r.value:n.value||r.value),f=(v,z)=>{a.set(v,z)},_=v=>{var z;if(b.value)return $.value;const k=e.value[v];return(z=a.get(k))!=null?z:$.value},P=v=>a.has(v);ae(()=>{const v=Array.from(a.values()).reduce((z,k)=>z+k,0);v>0&&(n.value=v/a.size)});const M=v=>b.value?$.value*v:y(0,v),y=(v,z)=>{let k=0;for(let h=v;h<z;h++)k+=_(h);return k},d=g(()=>b.value?$.value*c.value:y(0,c.value)),i=v=>{const z=v>=d.value;let k=Math.abs(v-d.value);const h=z?c.value:c.value-1;let I=0;for(;k>0;)k-=_(h+I),z?I++:I--;return I},m=v=>{const z=i(v),k=c.value+z-u.value;return k<0?0:k>p.value?p.value:k},s=g(()=>b.value?$.value*(o.value-S.value):y(S.value,o.value));return{frontPadding:d,behindPadding:s,start:c,end:S,getStartByScroll:m,setItemSize:f,hasItemSize:P,setStart:O,getScrollOffset:M}};var dl=L({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:t}){var l;const r=(l=Ze())==null?void 0:l.vnode.key,u=C(),n=()=>{var a,o,c,S;const p=(o=(a=u.value)==null?void 0:a.$el)!=null?o:u.value,O=(S=(c=p==null?void 0:p.getBoundingClientRect)==null?void 0:c.call(p).height)!=null?S:p==null?void 0:p.offsetHeight;O&&e.setItemSize(r,O)};return ae(()=>n()),Ye(()=>n()),()=>{var a;const o=ht((a=t.default)==null?void 0:a.call(t));return o?ut(o,{ref:u},!0):null}}}),vl=Object.defineProperty,Ge=Object.getOwnPropertySymbols,fl=Object.prototype.hasOwnProperty,pl=Object.prototype.propertyIsEnumerable,Ke=(e,t,l)=>t in e?vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,ml=(e,t)=>{for(var l in t||(t={}))fl.call(t,l)&&Ke(e,l,t[l]);if(Ge)for(var l of Ge(t))pl.call(t,l)&&Ke(e,l,t[l]);return e};const hl=L({name:"VirtualList",components:{VirtualListItem:dl},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:t}){const{data:l,itemKey:r,fixedSize:u,estimatedSize:n,buffer:a,height:o}=re(e),c=q("virtual-list"),S=g(()=>X(e.component)?ml({container:"div",list:"div",content:"div"},e.component):{container:e.component,list:"div",content:"div"}),p=C(),O=C(),b=g(()=>({height:Z(o.value)?`${o.value}px`:o.value,overflow:"auto"})),$=g(()=>l.value.map((h,I)=>{var E;return(E=h[r.value])!=null?E:I})),{frontPadding:f,behindPadding:_,start:P,end:M,getStartByScroll:y,setItemSize:d,hasItemSize:i,setStart:m,getScrollOffset:s}=cl({dataKeys:$,contentRef:O,fixedSize:u,estimatedSize:n,buffer:a}),v=g(()=>e.threshold&&l.value.length<=e.threshold?l.value:l.value.slice(P.value,M.value)),z=h=>{const{scrollTop:I,scrollHeight:E,offsetHeight:V}=h.target,H=y(I);H!==P.value&&(m(H),ve(()=>{k(I)})),t("scroll",h),Math.floor(E-(I+V))<=0&&t("reachBottom",h)},k=h=>{var I,E;if(p.value)if(Z(h))p.value.scrollTop=h;else{const V=(E=h.index)!=null?E:$.value.indexOf((I=h.key)!=null?I:"");m(V-a.value),p.value.scrollTop=s(V),ve(()=>{if(p.value){const H=s(V);H!==p.value.scrollTop&&(p.value.scrollTop=H)}})}};return{prefixCls:c,containerRef:p,contentRef:O,frontPadding:f,currentList:v,behindPadding:_,onScroll:z,setItemSize:d,hasItemSize:i,start:P,scrollTo:k,style:b,mergedComponent:S}}});function bl(e,t,l,r,u,n){const a=ne("VirtualListItem");return R(),D(ee(e.mergedComponent.container),{ref:"containerRef",class:T(e.prefixCls),style:fe(e.style),onScroll:e.onScroll},{default:K(()=>[(R(),D(ee(e.mergedComponent.list),de(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:K(()=>[(R(),D(ee(e.mergedComponent.content),de({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:K(()=>[(R(!0),G(ct,null,dt(e.currentList,(o,c)=>{var S;return R(),D(a,{key:(S=o[e.itemKey])!=null?S:e.start+c,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:K(()=>[N(e.$slots,"item",{item:o,index:e.start+c})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},8,["class","style","onScroll"])}var Pl=te(hl,[["render",bl]]);export{Lt as C,Il as O,kl as S,Pl as V,Ie as a,Se as b,_e as g,wl as h,Yt as i,zl as u};
