import{B as A}from"./index-0e4b31d4.js";import{S as N}from"./index-00b20d4a.js";import"./index-8896020a.js";/* empty css               */import{L as V}from"./LeafletMap-b1c7137a.js";import"./proj-3c69de6c.js";import{I as j}from"./index-617968ed.js";import{I as L}from"./index-c833ae91.js";import{M as T}from"./index-ac16a1f8.js";import{r as _,o as U,a as E,b as F,h as I,g as n,k as l,f,D as v}from"./index-bbce9413.js";import"./constant-82db06a1.js";import"./_plugin-vue_export-helper-c4cb8a60.js";import"./omit-beff4be5.js";import"./index-24d3e248.js";import"./index.es-53dca8d1.js";import"./index-e204803d.js";import"./keyboard-37dc3bb3.js";function S(e,r,t){t===void 0&&(t={});var o={type:"Feature"};return(t.id===0||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=e,o}function O(e,r,t){if(t===void 0&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(e[0])||!b(e[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:e};return S(o,r,t)}function P(e,r){r===void 0&&(r={});var t={type:"FeatureCollection"};return r.id&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.features=e,t}function b(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}globalThis&&globalThis.__spreadArrays;function R(e){return Array.isArray(e)?y(e):e&&e.bbox?y(e.bbox):[J(),q()]}function G(e,r){r===void 0&&(r={}),e==null&&(e=1);for(var t=[],o=0;o<e;o++)t.push(O(R(r.bbox)));return P(t)}function g(){return Math.random()-.5}function J(){return g()*360}function q(){return g()*180}function y(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}const z={class:"w-full min-h-[calc(100vh-58px)]"},D={class:"flex justify-between"},W={"w-full":"",flex:""},$={class:"w-1/2 m-5"},H=n("div",{class:"w-full flex justify-between items-center"},[n("h2",{class:"m-5"},"\u5730\u56FE")],-1),K={class:"w-full flex justify-between items-center"},Q=n("span",{class:"w-30 m-5"},"\u56FE\u5C42\u8FB9\u754C\u8303\u56F4",-1),X={class:"w-full flex justify-between items-center"},Y=n("span",{class:"w-30 m-5"},"\u968F\u673A\u70B9\u4F4D\u6570\u91CF",-1),Z={class:"pl-5 pr-5"},ee={class:"w-1/2 m-5"},te={class:"w-full flex justify-between items-center"},re=n("h2",{class:"m-5"},"\u6570\u636E",-1),oe={class:"buttons mr-5"},ne={class:"pl-5 pr-5"},xe={__name:"index",setup(e){const r={autorefresh:!0,smartIndent:!0,tabSize:4,mode:"application/json",theme:"dracula",matchBrackets:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lint:!1,lineNumbers:!0,indentUnit:2,foldGutter:!0,styleActiveLine:!0},t=_(""),o=_(100),u=_("[115.87031, 29.79314, 122.76045, 35.38863]");let c=_({type:"FeatureCollection",features:[]});const m=()=>{c.value.features=[],G(o.value,{bbox:JSON.parse(u.value)}).features.forEach(h),t.value=JSON.stringify(c.value,null,2)},h=s=>{let a=s.geometry.coordinates,i={type:"Feature",properties:{id:Math.random().toString(36).slice(2)},geometry:{coordinates:[a[0].toFixed(4),a[1].toFixed(4)],type:"Point"}};c.value.features.push(i)},w=s=>{console.log("getBbox",s),u.value=s},x=()=>{const s=new Blob([t.value],{type:"application/json"}),a=URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download="data.json",document.body.appendChild(i),i.click(),setTimeout(()=>{URL.revokeObjectURL(a),document.body.removeChild(i)},0)},C=()=>{let s=t.value;console.log("copyText",s),s!==""&&(navigator.clipboard.writeText(s),T.success("\u590D\u5236\u6210\u529F"))};return U(()=>{}),(s,a)=>{const i=j,B=L,p=A,M=N,k=E("Codemirror");return F(),I("div",z,[n("div",D,[n("div",W,[n("div",$,[H,n("div",K,[Q,l(i,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=d=>u.value=d),class:"m-5"},null,8,["modelValue"])]),n("div",X,[Y,l(B,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=d=>o.value=d),class:"m-5"},null,8,["modelValue"])]),n("div",Z,[l(V,{height:"600px",onLayerBounds:w})])]),n("div",ee,[n("div",te,[re,n("div",oe,[l(M,null,{default:f(()=>[l(p,{onClick:m},{default:f(()=>[v("\u751F\u6210")]),_:1}),l(p,{onClick:C},{default:f(()=>[v("\u590D\u5236")]),_:1}),l(p,{onClick:a[2]||(a[2]=d=>t.value="")},{default:f(()=>[v("\u6E05\u7A7A")]),_:1}),l(p,{onClick:x},{default:f(()=>[v("\u4E0B\u8F7D")]),_:1})]),_:1})])]),n("div",ne,[l(k,{value:t.value,"onUpdate:value":a[3]||(a[3]=d=>t.value=d),options:r,height:750},null,8,["value"])])])])])])}}};export{xe as default};
