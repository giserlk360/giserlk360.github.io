import{d as k,c as O,b as i,h as v,j as m,n as H,g as j,o as T,Z as A,y as V,a as c,l as $,e as p,i as _,k as h,f as Z,a4 as q,X as D,m as G,a5 as I,r as W}from"./index-2b249113.js";import{d as X,I as Y,a as J,b as K,e as Q,M as R}from"./constant-0bfba879.js";import{g as b,e as x,_ as E,I as ee,r as se,y as w,j as oe,c as te,q as ne,z as ae}from"./use-popup-manager-fc119641.js";const re=k({name:"IconInfoCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:s}){const o=b("icon"),a=O(()=>[o,`${o}-info-circle-fill`,{[`${o}-spin`]:e.spin}]),r=O(()=>{const n={};return e.size&&(n.fontSize=x(e.size)?`${e.size}px`:e.size),e.rotate&&(n.transform=`rotate(${e.rotate}deg)`),n});return{cls:a,innerStyle:r,onClick:n=>{s("click",n)}}}}),le=["stroke-width","stroke-linecap","stroke-linejoin"],ie=j("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z",fill:"currentColor",stroke:"none"},null,-1),ce=[ie];function ue(e,s,o,a,r,t){return i(),v("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:m(e.cls),style:H(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:s[0]||(s[0]=(...n)=>e.onClick&&e.onClick(...n))},ce,14,le)}var C=E(re,[["render",ue]]);const de=Object.assign(C,{install:(e,s)=>{var o;const a=(o=s==null?void 0:s.iconPrefix)!=null?o:"";e.component(a+C.name,C)}}),fe=k({name:"Message",components:{AIconHover:X,IconInfoCircleFill:de,IconCheckCircleFill:Y,IconExclamationCircleFill:J,IconCloseCircleFill:K,IconClose:Q,IconLoading:ee},props:{type:{type:String,default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1},resetOnHover:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:s}){const o=b("message");let a=0;const r=()=>{s("close")},t=()=>{e.duration>0&&(a=window.setTimeout(r,e.duration))},n=()=>{a&&(window.clearTimeout(a),a=0)};return T(()=>{t()}),A(()=>{e.resetOnUpdate&&(n(),t())}),V(()=>{n()}),{handleMouseEnter:()=>{e.resetOnHover&&n()},handleMouseLeave:()=>{e.resetOnHover&&t()},prefixCls:o,handleClose:r}}});function pe(e,s,o,a,r,t){const n=c("icon-info-circle-fill"),l=c("icon-check-circle-fill"),u=c("icon-exclamation-circle-fill"),B=c("icon-close-circle-fill"),N=c("icon-loading"),F=c("icon-close"),U=c("a-icon-hover");return i(),v("li",{role:"alert",class:m([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}]),onMouseenter:s[1]||(s[1]=(...f)=>e.handleMouseEnter&&e.handleMouseEnter(...f)),onMouseleave:s[2]||(s[2]=(...f)=>e.handleMouseLeave&&e.handleMouseLeave(...f))},[e.showIcon&&!(e.type==="normal"&&!e.$slots.icon)?(i(),v("span",{key:0,class:m(`${e.prefixCls}-icon`)},[$(e.$slots,"icon",{},()=>[e.type==="info"?(i(),p(n,{key:0})):e.type==="success"?(i(),p(l,{key:1})):e.type==="warning"?(i(),p(u,{key:2})):e.type==="error"?(i(),p(B,{key:3})):e.type==="loading"?(i(),p(N,{key:4})):_("v-if",!0)])],2)):_("v-if",!0),j("span",{class:m(`${e.prefixCls}-content`)},[$(e.$slots,"default")],2),e.closable?(i(),v("span",{key:1,class:m(`${e.prefixCls}-close-btn`),onClick:s[0]||(s[0]=(...f)=>e.handleClose&&e.handleClose(...f))},[h(U,null,{default:Z(()=>[h(F)]),_:1})],2)):_("v-if",!0)],34)}var me=E(fe,[["render",pe]]);function he(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!D(e)}var ve=k({name:"MessageList",props:{messages:{type:Array,default:()=>[]},position:{type:String,default:"top"}},emits:["close","afterClose"],setup(e,s){const o=b("message-list"),{zIndex:a}=se("message",{runOnMounted:!0});return()=>{let r;return h(q,{class:[o,`${o}-${e.position}`],name:"fade-message",tag:"ul",style:{zIndex:a.value},onAfterLeave:()=>s.emit("afterClose")},he(r=e.messages.map(t=>{const n={default:w(t.content),icon:w(t.icon)};return h(me,{key:t.id,type:t.type,duration:t.duration,closable:t.closable,resetOnUpdate:t.resetOnUpdate,resetOnHover:t.resetOnHover,onClose:()=>s.emit("close",t.id)},n)}))?r:{default:()=>[r]})}}}),ge=Object.defineProperty,ye=Object.defineProperties,_e=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,S=(e,s,o)=>s in e?ge(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,y=(e,s)=>{for(var o in s||(s={}))Ce.call(s,o)&&S(e,o,s[o]);if(M)for(var o of M(s))ke.call(s,o)&&S(e,o,s[o]);return e},L=(e,s)=>ye(e,_e(s));class be{constructor(s,o){this.messageCount=0,this.add=t=>{var n;this.messageCount++;const l=(n=t.id)!=null?n:`__arco_message_${this.messageCount}`;if(this.messageIds.has(l))return this.update(l,t);const u=G(y({id:l},t));return this.messages.value.push(u),this.messageIds.add(l),{close:()=>this.remove(l)}},this.update=(t,n)=>{for(let l=0;l<this.messages.value.length;l++)if(this.messages.value[l].id===t){const u=!te(n.duration);Object.assign(this.messages.value[l],L(y({},n),{id:t,resetOnUpdate:u}));break}return{close:()=>this.remove(t)}},this.remove=t=>{for(let n=0;n<this.messages.value.length;n++){const l=this.messages.value[n];if(l.id===t){ne(l.onClose)&&l.onClose(t),this.messages.value.splice(n,1),this.messageIds.delete(t);break}}},this.clear=()=>{this.messages.value.splice(0)},this.destroy=()=>{this.messages.value.length===0&&this.container&&(I(null,this.container),document.body.removeChild(this.container),this.container=null,d[this.position]=void 0)};const{position:a="top"}=s;this.container=ae("message"),this.messageIds=new Set,this.messages=W([]),this.position=a;const r=h(ve,{messages:this.messages.value,position:a,onClose:this.remove,onAfterClose:this.destroy});(o!=null?o:P._context)&&(r.appContext=o!=null?o:P._context),I(r,this.container),document.body.appendChild(this.container)}}const d={},z=[...R,"loading","normal"],g=z.reduce((e,s)=>(e[s]=(o,a)=>{oe(o)&&(o={content:o});const r=y({type:s},o),{position:t="top"}=r;return d[t]||(d[t]=new be(r,a)),d[t].add(r)},e),{});g.clear=e=>{var s;e?(s=d[e])==null||s.clear():Object.values(d).forEach(o=>o==null?void 0:o.clear())};const P=L(y({},g),{install:e=>{const s={clear:g.clear};for(const o of z)s[o]=(a,r=e._context)=>g[o](a,r);e.config.globalProperties.$message=s},_context:null});export{P as M};
