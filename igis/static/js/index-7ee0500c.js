import{B as Ge}from"./index-8f0e893e.js";import{S as Me}from"./index-fcf41ee0.js";import"./index-0495e69d.js";import{S as we,I as R,a as be,O as Se}from"./index-90cd4835.js";import"./index-38ad12ac.js";/* empty css               */import{r as L,b as $,h as Q,g as d,k as f,f as m,K as M,x as A,F as ee,q as te,D as C,a4 as oe,e as ne,E as le}from"./index-b030a2d4.js";import{M as re,I as ye}from"./index-71d16ca7.js";import{I as Be}from"./index-76e26d73.js";import"./constant-67acd705.js";import"./index-917218f3.js";import"./index-cf2ccfa0.js";import"./keyboard-f7a0b9a6.js";/**
 * @preserve
 * gcoord 1.0.6, geographic coordinate library
 * Copyright (c) 2024 Jiulong Hu <me@hujiulong.com>
 */const{sin:w,cos:De,sqrt:Z,abs:V,PI:g}=Math,se=6378245,ae=.006693421622965823;function me(e,n){return e>=72.004&&e<=137.8347&&n>=.8293&&n<=55.8271}function Ce(e,n){let t=-100+2*e+3*n+.2*n*n+.1*e*n+.2*Z(V(e));return t+=(20*w(6*e*g)+20*w(2*e*g))*2/3,t+=(20*w(n*g)+40*w(n/3*g))*2/3,t+=(160*w(n/12*g)+320*w(n*g/30))*2/3,t}function Pe(e,n){let t=300+e+2*n+.1*e*e+.1*e*n+.1*Z(V(e));return t+=(20*w(6*e*g)+20*w(2*e*g))*2/3,t+=(20*w(e*g)+40*w(e/3*g))*2/3,t+=(150*w(e/12*g)+300*w(e/30*g))*2/3,t}function Ie(e,n){let t=Pe(e-105,n-35),o=Ce(e-105,n-35);const l=n/180*g;let r=w(l);r=1-ae*r*r;const s=Z(r);return t=t*180/(se/s*De(l)*g),o=o*180/(se*(1-ae)/(r*s)*g),[t,o]}function k(e){const[n,t]=e;if(!me(n,t))return[n,t];const o=Ie(n,t);return[n+o[0],t+o[1]]}function N(e){const[n,t]=e;if(!me(n,t))return[n,t];let[o,l]=[n,t],r=k([o,l]),s=r[0]-n,a=r[1]-t;for(;V(s)>1e-6||V(a)>1e-6;)o-=s,l-=a,r=k([o,l]),s=r[0]-n,a=r[1]-t;return[o,l]}const{sin:q,cos:T,atan2:he,sqrt:pe,PI:Ee}=Math,z=Ee*3e3/180;function J(e){const[n,t]=e,o=n-.0065,l=t-.006,r=pe(o*o+l*l)-2e-5*q(l*z),s=he(l,o)-3e-6*T(o*z),a=r*T(s),v=r*q(s);return[a,v]}function W(e){const[n,t]=e,o=n,l=t,r=pe(o*o+l*l)+2e-5*q(l*z),s=he(l,o)+3e-6*T(o*z),a=r*T(s)+.0065,v=r*q(s)+.006;return[a,v]}const ie=180/Math.PI,ce=Math.PI/180,X=6378137,P=20037508342789244e-9;function U(e){return[e[0]*ie/X,(Math.PI*.5-2*Math.atan(Math.exp(-e[1]/X)))*ie]}function K(e){const n=Math.abs(e[0])<=180?e[0]:e[0]-(e[0]<0?-1:1)*360,t=[X*n*ce,X*Math.log(Math.tan(Math.PI*.25+.5*e[1]*ce))];return t[0]>P&&(t[0]=P),t[0]<-P&&(t[0]=-P),t[1]>P&&(t[1]=P),t[1]<-P&&(t[1]=-P),t}const{abs:Y}=Math,ue=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],de=[75,60,45,30,15,0],ke=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],Le=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function ge(e,n,t){const o=Y(n)/t[9];let l=t[0]+t[1]*Y(e),r=t[2]+t[3]*o+t[4]*Math.pow(o,2)+t[5]*Math.pow(o,3)+t[6]*Math.pow(o,4)+t[7]*Math.pow(o,5)+t[8]*Math.pow(o,6);return l*=e<0?-1:1,r*=n<0?-1:1,[l,r]}function H(e){const[n,t]=e;let o=[];for(let l=0;l<de.length;l++)if(Y(t)>de[l]){o=Le[l];break}return ge(n,t,o)}function F(e){const[n,t]=e;let o=[];for(let l=0;l<ue.length;l++)if(t>=ue[l]){o=ke[l];break}return ge(n,t,o)}function I(e,n){if(!e)throw new Error(n)}function ve(e){return!!e&&Object.prototype.toString.call(e)==="[object Array]"}function fe(e){return!isNaN(Number(e))&&e!==null&&!ve(e)}function y(...e){const n=e.length-1;return function(...t){let o=n,l=e[n].apply(null,t);for(;o--;)l=e[o].call(null,l);return l}}function _e(e,n,t=!1){if(e===null)return;let o,l,r,s,a,v,x=0,B=0,D,O;const{type:j}=e,h=j==="FeatureCollection",u=j==="Feature",p=h?e.features.length:1;for(let b=0;b<p;b++){D=h?e.features[b].geometry:u?e.geometry:e,O=D?D.type==="GeometryCollection":!1,v=O?D.geometries.length:1;for(let _=0;_<v;_++){let G=0,c=0;if(s=O?D.geometries[_]:D,s===null)continue;const S=s.type;switch(x=t&&(S==="Polygon"||S==="MultiPolygon")?1:0,S){case null:break;case"Point":if(a=s.coordinates,n(a,B,b,G,c)===!1)return!1;B++,G++;break;case"LineString":case"MultiPoint":for(a=s.coordinates,o=0;o<a.length;o++){if(n(a[o],B,b,G,c)===!1)return!1;B++,S==="MultiPoint"&&G++}S==="LineString"&&G++;break;case"Polygon":case"MultiLineString":for(a=s.coordinates,o=0;o<a.length;o++){for(l=0;l<a[o].length-x;l++){if(n(a[o][l],B,b,G,c)===!1)return!1;B++}S==="MultiLineString"&&G++,S==="Polygon"&&c++}S==="Polygon"&&G++;break;case"MultiPolygon":for(a=s.coordinates,o=0;o<a.length;o++){for(c=0,l=0;l<a[o].length;l++){for(r=0;r<a[o][l].length-x;r++){if(n(a[o][l][r],B,b,G,c)===!1)return!1;B++}c++}G++}break;case"GeometryCollection":for(o=0;o<s.geometries.length;o++)if(_e(s.geometries[o],n,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}var i;(function(e){e.WGS84="WGS84",e.WGS1984="WGS84",e.EPSG4326="WGS84",e.GCJ02="GCJ02",e.AMap="GCJ02",e.BD09="BD09",e.BD09LL="BD09",e.Baidu="BD09",e.BMap="BD09",e.BD09MC="BD09MC",e.BD09Meter="BD09MC",e.EPSG3857="EPSG3857",e.EPSG900913="EPSG3857",e.EPSG102100="EPSG3857",e.WebMercator="EPSG3857",e.WM="EPSG3857"})(i||(i={}));const Je={to:{[i.GCJ02]:k,[i.BD09]:y(W,k),[i.BD09MC]:y(H,W,k),[i.EPSG3857]:K}},Ne={to:{[i.WGS84]:N,[i.BD09]:W,[i.BD09MC]:y(H,W),[i.EPSG3857]:y(K,N)}},We={to:{[i.WGS84]:y(N,J),[i.GCJ02]:J,[i.EPSG3857]:y(K,N,J),[i.BD09MC]:H}},xe={to:{[i.WGS84]:U,[i.GCJ02]:y(k,U),[i.BD09]:y(W,k,U),[i.BD09MC]:y(H,W,k,U)}},Oe={to:{[i.WGS84]:y(N,J,F),[i.GCJ02]:y(J,F),[i.EPSG3857]:y(K,N,J,F),[i.BD09]:F}},$e={WGS84:Je,GCJ02:Ne,BD09:We,EPSG3857:xe,BD09MC:Oe};var je=$e;function Ae(e,n,t){if(I(!!e,"The args[0] input coordinate is required"),I(!!n,"The args[1] original coordinate system is required"),I(!!t,"The args[2] target coordinate system is required"),n===t)return e;const o=je[n];I(!!o,`Invalid original coordinate system: ${n}`);const l=o.to[t];I(!!l,`Invalid target coordinate system: ${t}`);const r=typeof e;if(I(r==="string"||r==="object",`Invalid input coordinate type: ${r}`),r==="string")try{e=JSON.parse(e)}catch{throw new Error(`Invalid input coordinate: ${e}`)}let s=!1;ve(e)&&(I(e.length>=2,`Invalid input coordinate: ${e}`),I(fe(e[0])&&fe(e[1]),`Invalid input coordinate: ${e}`),e=e.map(Number),s=!0);const a=l;return s?a(e):(_e(e,v=>{[v[0],v[1]]=a(v)}),e)}const E=Object.assign(Object.assign({},i),{CRSTypes:i,transform:Ae}),Ue={class:"w-full min-h-[calc(100vh-58px)]"},Fe={class:"flex items-center ml-10 mt-10 w-1/2"},Ve={class:"flex items-center w-1/3 mr-5"},qe=d("h3",{class:"mr-5 w-2/3"},"\u8F6C\u6362\u524D\u5750\u6807\u7CFB",-1),Te={class:"flex items-center w-1/3 mr-5"},ze=d("h3",{class:"mr-5 w-2/3"},"\u8F6C\u6362\u540E\u5750\u6807\u7CFB",-1),Xe={class:"flex items-center w-1/3 ml-5"},Ke={class:"flex justify-between"},He={"w-full":"",flex:""},Qe={class:"w-1/2 m-5"},Ye={class:"w-full flex justify-between items-center"},Ze=d("h2",{class:"m-5"},"\u8F6C\u6362\u524D\u5750\u6807",-1),Re={class:"buttons mr-5"},et={class:"pl-5 pr-5"},tt={class:"w-1/2 m-5"},ot={class:"w-full flex justify-between items-center"},nt=d("h2",{class:"m-5"},"\u8F6C\u6362\u540E\u5750\u6807",-1),lt={class:"buttons mr-5"},rt={class:"pl-5 pr-5"},Gt={__name:"index",setup(e){const n=L(null),t=L([{label:"WGS84",value:E.WGS84},{label:"GCJ02",value:E.GCJ02},{label:"BD09",value:E.BD09},{label:"WebMercator",value:E.WebMercator}]),o=L(E.WGS84),l=L(E.WGS84),r=L(`  //\u7C98\u8D34\u6216\u4E0A\u4F20\u9700\u8981\u8F6C\u6362\u7684\u5750\u6807\u6570\u636E
  //\u652F\u6301\u8F6C\u6362\u7684\u6570\u636E\u683C\u5F0F
  //1. \u5355\u4E2A\u6570\u7EC4\u{1F447}
  // [
  //     121.134174,
  //     27.786029
  // ]
  //2.\u591A\u4E2A\u6570\u7EC4\u5D4C\u5957\u{1F447}
  // [
  //     [113.00018437474967,37.95992863432143],
  //     [106.32049687474967,31.987726366726363],
  //     [113.61541874974967,29.648110896899723],
  //     [113.61541874974967,9.648110896899723]
  // ]
  //3.\u6807\u51C6GeoJSON`),s=L(""),a=()=>{r.value="",s.value=""},v={autorefresh:!0,smartIndent:!0,tabSize:4,mode:"application/json",theme:"dracula",matchBrackets:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lint:!1,lineNumbers:!0,indentUnit:2,foldGutter:!0,styleActiveLine:!0},x=()=>{let h=s.value;console.log("copyText",h),h!==""&&(navigator.clipboard.writeText(h),re.success("\u590D\u5236\u6210\u529F"))},B=()=>{if(o.value===l.value){re.warning("\u8F6C\u6362\u524D\u5750\u6807\u7CFB\u4E0E\u8F6C\u6362\u540E\u5750\u6807\u7CFB\u4E0D\u80FD\u76F8\u540C");return}if(r.value!==""){const h=JSON.parse(r.value);if(Array.isArray(h[0])){let u=h.map(p=>E.transform(p,o.value,l.value));s.value=JSON.stringify(u,null,2)}else{let u=E.transform(h,o.value,l.value);s.value=JSON.stringify(u,null,2)}r.value=JSON.stringify(JSON.parse(r.value),null,2)}},D=()=>{n.value.click()},O=h=>{const u=h.target.files[0];if(!u)return;const p=new FileReader;p.onload=b=>{try{const _=JSON.parse(b.target.result);r.value=JSON.stringify(_,null,2)}catch(_){console.error("Error parsing GeoJSON file:",_)}},p.readAsText(u)},j=()=>{const h=new Blob([s.value],{type:"application/json"}),u=URL.createObjectURL(h),p=document.createElement("a");p.href=u,p.download="\u5750\u6807\u7CFB.json",document.body.appendChild(p),p.click(),setTimeout(()=>{URL.revokeObjectURL(u),document.body.removeChild(p)},0)};return(h,u)=>{const p=Se,b=we,_=Ge,G=Me;return $(),Q("div",Ue,[d("div",Fe,[d("div",Ve,[qe,f(b,{modelValue:M(o),"onUpdate:modelValue":u[0]||(u[0]=c=>A(o)?o.value=c:null),class:"w-1/3"},{default:m(()=>[($(!0),Q(ee,null,te(M(t),(c,S)=>($(),ne(p,{key:S,value:c.value},{default:m(()=>[C(le(c.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),d("div",Te,[ze,f(b,{modelValue:M(l),"onUpdate:modelValue":u[1]||(u[1]=c=>A(l)?l.value=c:null),class:"w-1/3"},{default:m(()=>[($(!0),Q(ee,null,te(M(t),(c,S)=>($(),ne(p,{key:S,value:c.value},{default:m(()=>[C(le(c.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),d("div",Xe,[f(_,{type:"primary",onClick:B,class:"mr-5"},{default:m(()=>[C(" \u8F6C\u6362 ")]),_:1})])]),d("div",Ke,[d("div",He,[d("div",Qe,[d("div",Ye,[Ze,d("div",Re,[f(G,null,{default:m(()=>[f(_,{onClick:a},{icon:m(()=>[f(M(R))]),default:m(()=>[C("\u6E05\u7A7A")]),_:1}),f(_,{onClick:D},{icon:m(()=>[f(M(be))]),default:m(()=>[C("\u4E0A\u4F20\u6587\u4EF6")]),_:1}),d("input",{ref_key:"fileInput",ref:n,type:"file",style:{display:"none"},onChange:O},null,544)]),_:1})])]),d("div",et,[f(M(oe),{value:M(r),"onUpdate:value":u[2]||(u[2]=c=>A(r)?r.value=c:null),options:v,height:600},null,8,["value"])])]),d("div",tt,[d("div",ot,[nt,d("div",lt,[f(G,null,{default:m(()=>[f(_,{onClick:x},{icon:m(()=>[f(M(ye))]),default:m(()=>[C("\u590D\u5236")]),_:1}),f(_,{onClick:a},{icon:m(()=>[f(M(R))]),default:m(()=>[C("\u6E05\u7A7A")]),_:1}),f(_,{onClick:j},{icon:m(()=>[f(M(Be))]),default:m(()=>[C("\u4E0B\u8F7D")]),_:1})]),_:1})])]),d("div",rt,[f(M(oe),{value:M(s),"onUpdate:value":u[3]||(u[3]=c=>A(s)?s.value=c:null),options:v,height:600},null,8,["value"])])])])])])}}};export{Gt as default};
