import{g as T,E as Pe,z as ie,c as Ee,F as Oe,f as H,n as Ve,I as Re,B as Te,e as je,_ as Z,s as Me,d as Ne}from"./index-0e4b31d4.js";import{e as ae,I as Q,d as Fe}from"./constant-82db06a1.js";import{p as Ae,F as We,E as De,I as le}from"./index-8896020a.js";import{o as Ge}from"./omit-beff4be5.js";import{r as y,d as S,t as ce,c as f,A as He,k as i,u as R,D as Ke,J as Ue,F as qe,b as _,h as de,j as fe,n as Je,g as ve,a as O,e as V,s as Ze,f as k,l as w,a5 as oe,i as Qe}from"./index-bbce9413.js";import{a as Xe}from"./index-24d3e248.js";function Ye(e){const a=y();function t(){if(!e.value)return;const{selectionStart:u,selectionEnd:c,value:r}=e.value;if(u==null||c==null)return;const p=r.slice(0,Math.max(0,u)),l=r.slice(Math.max(0,c));a.value={selectionStart:u,selectionEnd:c,value:r,beforeTxt:p,afterTxt:l}}function v(){if(!e.value||!a.value)return;const{value:u}=e.value,{beforeTxt:c,afterTxt:r,selectionStart:p}=a.value;if(!c||!r||!p)return;let l=u.length;if(u.endsWith(r))l=u.length-r.length;else if(u.startsWith(c))l=c.length;else{const d=c[p-1],x=u.indexOf(d,p-1);x!==-1&&(l=x+1)}e.value.setSelectionRange(l,l)}return[t,v]}var en=Object.defineProperty,re=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,tn=Object.prototype.propertyIsEnumerable,ue=(e,a,t)=>a in e?en(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,se=(e,a)=>{for(var t in a||(a={}))nn.call(a,t)&&ue(e,t,a[t]);if(re)for(var t of re(a))tn.call(a,t)&&ue(e,t,a[t]);return e},B=S({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,a)=>!0,change:(e,a)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:a,slots:t,attrs:v}){const{size:u,disabled:c,error:r,modelValue:p}=ce(e),l=T("input"),d=y(),{mergedSize:x,mergedDisabled:m,mergedError:C,feedback:L,eventHandlers:$}=Pe({size:u,disabled:c,error:r}),{mergedSize:X}=ie(x),[pe,me]=Ye(d),j=y(e.defaultValue),b=f(()=>{var n;return(n=e.modelValue)!=null?n:j.value});He(p,n=>{(Ee(n)||Oe(n))&&(j.value="")});let M=b.value;const N=y(!1),he=f(()=>e.allowClear&&!m.value&&Boolean(b.value)),z=y(!1),Y=y(""),I=n=>{var o;return Ve(e.wordLength)?e.wordLength(n):(o=n.length)!=null?o:0},P=f(()=>I(b.value)),ee=f(()=>C.value||Boolean(H(e.maxLength)&&e.maxLength.errorOnly&&P.value>h.value)),F=f(()=>H(e.maxLength)&&Boolean(e.maxLength.errorOnly)),h=f(()=>H(e.maxLength)?e.maxLength.length:e.maxLength),be=f(()=>{const n=I("a");return Math.floor(h.value/n)}),A=n=>{var o,s;h.value&&!F.value&&I(n)>h.value&&(n=(s=(o=e.wordSlice)==null?void 0:o.call(e,n,h.value))!=null?s:n.slice(0,be.value)),j.value=n,a("update:modelValue",n)},ge=n=>{d.value&&n.target!==d.value&&(n.preventDefault(),d.value.focus())},W=(n,o)=>{var s,g;n!==M&&(M=n,a("change",n,o),(g=(s=$.value)==null?void 0:s.onChange)==null||g.call(s,o))},ye=n=>{var o,s;N.value=!0,M=b.value,a("focus",n),(s=(o=$.value)==null?void 0:o.onFocus)==null||s.call(o,n)},_e=n=>{var o,s;N.value=!1,W(b.value,n),a("blur",n),(s=(o=$.value)==null?void 0:o.onBlur)==null||s.call(o,n)},D=n=>{var o,s,g;const{value:G,selectionStart:Le,selectionEnd:ze}=n.target;if(n.type==="compositionend"){if(z.value=!1,Y.value="",h.value&&!F.value&&P.value>=h.value&&I(G)>h.value&&Le===ze){E();return}A(G),a("input",G,n),(s=(o=$.value)==null?void 0:o.onInput)==null||s.call(o,n),E()}else z.value=!0,Y.value=b.value+((g=n.data)!=null?g:"")},E=()=>{pe(),Ue(()=>{d.value&&b.value!==d.value.value&&(d.value.value=b.value,me())})},xe=n=>{var o,s;const{value:g}=n.target;if(!z.value){if(h.value&&!F.value&&P.value>=h.value&&I(g)>h.value&&n.inputType==="insertText"){E();return}A(g),a("input",g,n),(s=(o=$.value)==null?void 0:o.onInput)==null||s.call(o,n),E()}},Ce=n=>{A(""),W("",n),a("clear",n)},$e=n=>{const o=n.key||n.code;!z.value&&o===De.key&&(W(b.value,n),a("pressEnter",n))},Ie=f(()=>[`${l}-outer`,`${l}-outer-size-${X.value}`,{[`${l}-outer-has-suffix`]:Boolean(t.suffix),[`${l}-outer-disabled`]:m.value}]),ke=f(()=>[`${l}-wrapper`,{[`${l}-error`]:ee.value,[`${l}-disabled`]:m.value,[`${l}-focus`]:N.value}]),we=f(()=>[l,`${l}-size-${X.value}`]),ne=f(()=>Ge(v,ae)),Be=f(()=>Ae(v,ae)),Se=f(()=>{const n=se(se({},Be.value),e.inputAttrs);return ee.value&&(n["aria-invalid"]=!0),n}),te=n=>{var o;return i("span",R({class:ke.value,onMousedown:ge},n?void 0:ne.value),[t.prefix&&i("span",{class:`${l}-prefix`},[t.prefix()]),i("input",R({ref:d,class:we.value,value:b.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:m.value,onInput:xe,onKeydown:$e,onFocus:ye,onBlur:_e,onCompositionstart:D,onCompositionupdate:D,onCompositionend:D},Se.value),null),he.value&&i(Q,{prefix:l,class:`${l}-clear-btn`,onClick:Ce},{default:()=>[i(Fe,null,null)]}),(t.suffix||Boolean(e.maxLength)&&e.showWordLimit||Boolean(L.value))&&i("span",{class:[`${l}-suffix`,{[`${l}-suffix-has-feedback`]:L.value}]},[Boolean(e.maxLength)&&e.showWordLimit&&i("span",{class:`${l}-word-limit`},[P.value,Ke("/"),h.value]),(o=t.suffix)==null?void 0:o.call(t),Boolean(L.value)&&i(We,{type:L.value},null)])])};return{inputRef:d,render:()=>t.prepend||t.append?i("span",R({class:Ie.value},ne.value),[t.prepend&&i("span",{class:`${l}-prepend`},[t.prepend()]),te(!0),t.append&&i("span",{class:`${l}-append`},[t.append()])]):te()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),K=S({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,a)=>!0},setup(e,{emit:a,slots:t}){const{size:v}=ce(e),u=T("input-search"),{mergedSize:c}=ie(v),r=y(),p=m=>{r.value.inputRef&&a("search",r.value.inputRef.value,m)},l=()=>{var m;return i(qe,null,[e.loading?i(Re,null,null):i(Q,{onClick:p},{default:()=>[i(le,null,null)]}),(m=t.suffix)==null?void 0:m.call(t)])},d=()=>{var m;let C={};return e.buttonText||t["button-default"]||t["button-icon"]?C={default:(m=t["button-default"])!=null?m:e.buttonText?()=>e.buttonText:void 0,icon:t["button-icon"]}:C={icon:()=>i(le,null,null)},i(Te,R({type:"primary",class:`${u}-btn`,disabled:e.disabled,size:c.value,loading:e.loading},e.buttonProps,{onClick:p}),C)};return{inputRef:r,render:()=>i(B,{ref:r,class:u,size:c.value,disabled:e.disabled},{prepend:t.prepend,prefix:t.prefix,suffix:e.searchButton?t.suffix:l,append:e.searchButton?d:t.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const an=S({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const t=T("icon"),v=f(()=>[t,`${t}-eye-invisible`,{[`${t}-spin`]:e.spin}]),u=f(()=>{const r={};return e.size&&(r.fontSize=je(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:v,innerStyle:u,onClick:r=>{a("click",r)}}}}),ln=["stroke-width","stroke-linecap","stroke-linejoin"],on=ve("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),rn=ve("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),un=[on,rn];function sn(e,a,t,v,u,c){return _(),de("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:fe(e.cls),style:Je(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...r)=>e.onClick&&e.onClick(...r))},un,14,ln)}var U=Z(an,[["render",sn]]);const cn=Object.assign(U,{install:(e,a)=>{var t;const v=(t=a==null?void 0:a.iconPrefix)!=null?t:"";e.component(v+U.name,U)}}),dn=S({name:"InputPassword",components:{IconEye:Xe,IconEyeInvisible:cn,AIconHover:Q,AInput:B},props:{invisibleButton:{type:Boolean,default:!0}},setup(){const e=y(),a=y(!0);return{inputRef:e,invisible:a,handleInvisible:()=>{a.value=!a.value}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function fn(e,a,t,v,u,c){const r=O("icon-eye"),p=O("icon-eye-invisible"),l=O("a-icon-hover"),d=O("a-input");return _(),V(d,{ref:"inputRef",type:e.invisible?"password":"text"},Ze({_:2},[e.$slots.prepend?{name:"prepend",fn:k(()=>[w(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:k(()=>[w(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:k(()=>[e.invisibleButton?(_(),V(l,{key:0,onClick:e.handleInvisible,onMousedown:a[0]||(a[0]=oe(()=>{},["prevent"])),onMouseup:a[1]||(a[1]=oe(()=>{},["prevent"]))},{default:k(()=>[e.invisible?(_(),V(p,{key:1})):(_(),V(r,{key:0}))]),_:1},8,["onClick"])):Qe("v-if",!0),w(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:k(()=>[w(e.$slots,"append")])}:void 0]),1032,["type"])}var q=Z(dn,[["render",fn]]);const vn=S({name:"InputGroup",setup(){return{prefixCls:T("input-group")}}});function pn(e,a,t,v,u,c){return _(),de("div",{class:fe(e.prefixCls)},[w(e.$slots,"default")],2)}var J=Z(vn,[["render",pn]]);const Cn=Object.assign(B,{Search:K,Password:q,Group:J,install:(e,a)=>{Me(e,a);const t=Ne(a);e.component(t+B.name,B),e.component(t+J.name,J),e.component(t+K.name,K),e.component(t+q.name,q)}});export{Cn as I};
