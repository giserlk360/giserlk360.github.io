import{d as T,c as h,b as M,h as z,j as Z,n as J,g as Q,t as me,r as k,A as E,k as u,F as fe,P as _e,o as ve,m as pe,e as be,f as $,D as ye}from"./index-916bfcc9.js";import{_ as F}from"./_plugin-vue_export-helper-c4cb8a60.js";import{g as A,e as p,_ as X,z as ge,A as he,c as xe,B as j,s as we,d as ke}from"./index-c476d94f.js";import{I as ee,F as Ce,a as Se}from"./index-22bdf3ce.js";import"./index-936443dd.js";import{i as R}from"./index.es-dd4fec26.js";import{I as $e}from"./index-297d0e81.js";import{I as Me}from"./index-02246c5d.js";import{g as Ie,K as G}from"./keyboard-8d381415.js";import"./constant-18157b1b.js";import"./index-a59e5c67.js";import"./index-8b5eac83.js";import"./index-3eb6fbb9.js";const Be=T({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const n=A("icon"),s=h(()=>[n,`${n}-up`,{[`${n}-spin`]:e.spin}]),m=h(()=>{const l={};return e.size&&(l.fontSize=p(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l});return{cls:s,innerStyle:m,onClick:l=>{a("click",l)}}}}),Ne=["stroke-width","stroke-linecap","stroke-linejoin"],Ve=Q("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),ze=[Ve];function Pe(e,a,n,s,m,c){return M(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:J(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...l)=>e.onClick&&e.onClick(...l))},ze,14,Ne)}var O=X(Be,[["render",Pe]]);const Oe=Object.assign(O,{install:(e,a)=>{var n;const s=(n=a==null?void 0:a.iconPrefix)!=null?n:"";e.component(s+O.name,O)}}),Le=T({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:a}){const n=A("icon"),s=h(()=>[n,`${n}-minus`,{[`${n}-spin`]:e.spin}]),m=h(()=>{const l={};return e.size&&(l.fontSize=p(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l});return{cls:s,innerStyle:m,onClick:l=>{a("click",l)}}}}),De=["stroke-width","stroke-linecap","stroke-linejoin"],Ee=Q("path",{d:"M5 24h38"},null,-1),je=[Ee];function Re(e,a,n,s,m,c){return M(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:J(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:a[0]||(a[0]=(...l)=>e.onClick&&e.onClick(...l))},je,14,De)}var L=X(Le,[["render",Re]]);const Te=Object.assign(L,{install:(e,a)=>{var n;const s=(n=a==null?void 0:a.iconPrefix)!=null?n:"";e.component(s+L.name,L)}});var Fe=Object.defineProperty,H=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,Y=(e,a,n)=>a in e?Fe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,Ue=(e,a)=>{for(var n in a||(a={}))Ae.call(a,n)&&Y(e,n,a[n]);if(H)for(var n of H(a))We.call(a,n)&&Y(e,n,a[n]);return e};const Ke=800,qe=150;R.enableBoundaryChecking(!1);var D=T({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1},inputAttrs:{type:Object}},emits:{"update:modelValue":e=>!0,change:(e,a)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,a,n)=>!0},setup(e,{emit:a,slots:n}){var s;const{size:m,disabled:c}=me(e),l=A("input-number"),b=k(),{mergedSize:C,mergedDisabled:i,eventHandlers:f}=ge({size:m,disabled:c}),{mergedSize:y}=he(C),I=h(()=>{if(p(e.precision)){const t=`${e.step}`.split(".")[1],o=t&&t.length||0;return Math.max(o,e.precision)}}),B=t=>{var o,r;if(!p(t))return"";const v=I.value?t.toFixed(I.value):String(t);return(r=(o=e.formatter)==null?void 0:o.call(e,v))!=null?r:v},_=k(B((s=e.modelValue)!=null?s:e.defaultValue)),d=h(()=>{var t,o;if(!_.value)return;const r=Number((o=(t=e.parser)==null?void 0:t.call(e,_.value))!=null?o:_.value);return Number.isNaN(r)?void 0:r}),x=k(p(d.value)&&d.value<=e.min),w=k(p(d.value)&&d.value>=e.max);let S=0;const g=()=>{S&&(window.clearTimeout(S),S=0)},W=t=>{if(!xe(t))return p(e.min)&&t<e.min&&(t=e.min),p(e.max)&&t>e.max&&(t=e.max),p(I.value)?R.round(t,I.value):t},N=t=>{let o=!1,r=!1;p(t)&&(t<=e.min&&(o=!0),t>=e.max&&(r=!0)),w.value!==r&&(w.value=r),x.value!==o&&(x.value=o)},U=()=>{const t=W(d.value),o=B(t);(t!==d.value||_.value!==o)&&(_.value=o),a("update:modelValue",t)};E(()=>[e.max,e.min],()=>{U(),N(d.value)});const P=(t,o)=>{if(i.value||t==="plus"&&w.value||t==="minus"&&x.value)return;let r;p(d.value)?r=W(R[t](d.value,e.step)):r=e.min===-1/0?0:e.min,_.value=B(r),N(r),a("update:modelValue",r),a("change",r,o)},V=(t,o,r=!1)=>{var v;t.preventDefault(),(v=b.value)==null||v.focus(),P(o,t),r&&(S=window.setTimeout(()=>t.target.dispatchEvent(t),S?qe:Ke))},ne=(t,o)=>{var r,v,K,q;t=t.trim().replace(/ã€‚/g,"."),t=(v=(r=e.parser)==null?void 0:r.call(e,t))!=null?v:t,(p(Number(t))||/^(\.|-)$/.test(t))&&(_.value=(q=(K=e.formatter)==null?void 0:K.call(e,t))!=null?q:t,N(d.value),a("input",d.value,_.value,o),e.modelEvent==="input"&&(a("update:modelValue",d.value),a("change",d.value,o)))},ae=t=>{a("focus",t)},le=(t,o)=>{o instanceof MouseEvent&&!t||(U(),a("change",d.value,o))},oe=t=>{a("blur",t)},re=t=>{var o,r;_.value="",a("update:modelValue",void 0),a("change",void 0,t),(r=(o=f.value)==null?void 0:o.onChange)==null||r.call(o,t),a("clear",t)},ie=Ie(new Map([[G.ARROW_UP,t=>{t.preventDefault(),!e.readOnly&&P("plus",t)}],[G.ARROW_DOWN,t=>{t.preventDefault(),!e.readOnly&&P("minus",t)}]]));E(()=>e.modelValue,t=>{t!==d.value&&(_.value=B(t),N(t))});const ue=()=>{var t,o,r;return e.readOnly?null:u(fe,null,[n.suffix&&u("div",{class:`${l}-suffix`},[(t=n.suffix)==null?void 0:t.call(n)]),u("div",{class:`${l}-step`},[u("button",{class:[`${l}-step-button`,{[`${l}-step-button-disabled`]:i.value||w.value}],type:"button",tabindex:"-1",disabled:i.value||w.value,onMousedown:v=>V(v,"plus",!0),onMouseup:g,onMouseleave:g},[n.plus?(o=n.plus)==null?void 0:o.call(n):u(Oe,null,null)]),u("button",{class:[`${l}-step-button`,{[`${l}-step-button-disabled`]:i.value||x.value}],type:"button",tabindex:"-1",disabled:i.value||x.value,onMousedown:v=>V(v,"minus",!0),onMouseup:g,onMouseleave:g},[n.minus?(r=n.minus)==null?void 0:r.call(n):u($e,null,null)])])])},se=h(()=>[l,`${l}-mode-${e.mode}`,`${l}-size-${y.value}`,{[`${l}-readonly`]:e.readOnly}]),de=()=>u(j,{size:y.value,tabindex:"-1",class:`${l}-step-button`,disabled:i.value||x.value,onMousedown:t=>V(t,"minus",!0),onMouseup:g,onMouseleave:g},{icon:()=>u(Te,null,null)}),ce=()=>u(j,{size:y.value,tabindex:"-1",class:`${l}-step-button`,disabled:i.value||w.value,onMousedown:t=>V(t,"plus",!0),onMouseup:g,onMouseleave:g},{icon:()=>u(Me,null,null)});return{inputRef:b,render:()=>{const t=e.mode==="embed"?{prepend:n.prepend,prefix:n.prefix,suffix:e.hideButton?n.suffix:ue,append:n.append}:{prepend:e.hideButton?n.prepend:de,prefix:n.prefix,suffix:n.suffix,append:e.hideButton?n.append:ce};return u(ee,{key:`__arco__${e.mode}`,ref:b,class:se.value,type:"text",allowClear:e.allowClear,size:y.value,modelValue:_.value,placeholder:e.placeholder,disabled:i.value,readonly:e.readOnly,error:e.error,inputAttrs:Ue({role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":_.value},e.inputAttrs),onInput:ne,onFocus:ae,onBlur:oe,onClear:re,onChange:le,onKeydown:ie},t)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Ge=Object.assign(D,{install:(e,a)=>{we(e,a);const n=ke(a);e.component(n+D.name,D)}}),te=_e("mars3d",()=>{let e=k({url:"https://data.mars3d.cn/3dtiles/qx-teh/tileset.json",alt:130});function a(n){e.value=n}return{tilesConfig:e,updateTilesConfig:a}});const He={__name:"Mars3dMap",setup(e){const a=window.Cesium,n=window.mars3d,s=k();let m=null;const c=te(),l=()=>{m=new n.Map(s.value,{scene:{center:{lat:32.077606,lng:112.135681,alt:190.3,heading:11.7,pitch:-26.3},showSun:!0,showMoon:!0,showSkyBox:!0,showSkyAtmosphere:!1,fog:!1,fxaa:!0,globe:{showGroundAtmosphere:!1,depthTestAgainstTerrain:!0,show:!0,baseColor:"#546a53"},cameraController:{zoomFactor:3,minimumZoomDistance:1,maximumZoomDistance:5e7,enableRotate:!0,enableZoom:!0},mapProjection:n.CRS.EPSG3857,mapMode2D:a.MapMode2D.INFINITE_SCROLL},control:{baseLayerPicker:!1,homeButton:!1,sceneModePicker:!1,navigationHelpButton:!1,fullscreenButton:!1,contextmenu:{hasDefault:!0}},basemaps:[{name:"\u5929\u5730\u56FE\u5F71\u50CF",icon:"img/basemaps/tdt_img.png",type:"tdt",layer:"img_d",show:!0}]}),b({url:c.tilesConfig.url,alt:c.tilesConfig.alt})},b=i=>{C("3DTiles");const f=new n.layer.TilesetLayer({id:"3DTiles",name:"3dtiles\u56FE\u5C42",url:i.url,position:{alt:i.alt},maximumScreenSpaceError:10,cacheBytes:1073741824,maximumCacheOverflowBytes:2147483648,dynamicScreenSpaceError:!0,cullWithChildrenBounds:!1,skipLevelOfDetail:!0,preferLeaves:!0,enableDebugWireframe:!1,flyTo:!0});m.addLayer(f),f.readyPromise.then(function(y){console.log("load\u5B8C\u6210",y)})},C=i=>{try{const f=m.getLayerById(i);f&&m.removeLayer(f)}catch(f){throw new Error(f)}};return ve(()=>{l()}),E(()=>c.tilesConfig,(i,f)=>{console.log("tilesConfig changed1:",i),b({url:i.url,alt:i.alt})}),(i,f)=>(M(),z("div",{ref_key:"mapRef",ref:s,class:"mapContainer"},null,512))}},Ye=F(He,[["__scopeId","data-v-22022cc9"]]);const Ze={__name:"ModelInfo",setup(e){const a=te(),n=pe({url:a.tilesConfig.url,alt:a.tilesConfig.alt}),s=()=>{console.log(n),a.updateTilesConfig({url:n.url,alt:n.alt})};return(m,c)=>{const l=ee,b=Se,C=Ge,i=j,f=Ce;return M(),be(f,{model:n,class:"formLayout",onSubmit:s},{default:$(()=>[u(b,{field:"name",label:"\u5730\u5740"},{default:$(()=>[u(l,{modelValue:n.url,"onUpdate:modelValue":c[0]||(c[0]=y=>n.url=y),placeholder:"\u8BF7\u8F93\u51653dtiles\u6A21\u578B\u5730\u5740"},null,8,["modelValue"])]),_:1}),u(b,{field:"alt",label:"\u9AD8\u5EA6"},{default:$(()=>[u(C,{modelValue:n.alt,"onUpdate:modelValue":c[1]||(c[1]=y=>n.alt=y),placeholder:"\u8BF7\u8F93\u5165\u6A21\u578B\u9AD8\u5EA6"},null,8,["modelValue"])]),_:1}),u(b,null,{default:$(()=>[u(i,{"html-type":"submit",onClick:s},{default:$(()=>[ye("\u786E\u5B9A")]),_:1})]),_:1})]),_:1},8,["model"])}}},Je=F(Ze,[["__scopeId","data-v-d6426217"]]);const Qe={class:"mapView w-full min-h-[calc(100vh-58px)]"},Xe={__name:"index",setup(e){return(a,n)=>(M(),z("div",Qe,[u(Ye),u(Je)]))}},_t=F(Xe,[["__scopeId","data-v-aaeba824"]]);export{_t as default};
