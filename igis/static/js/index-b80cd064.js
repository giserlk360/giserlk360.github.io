import{g as we,F as be,k as te,e as Se,s as Be,d as Ce,B as De}from"./index-4c89c5eb.js";import"./index-e1a7dbd7.js";import{S as Pe,I as ne,a as ke,O as Ie}from"./index-338e8e5a.js";import"./index-8f65566e.js";import{d as Ee,c as oe,a6 as $e,k as d,F as Z,r as J,b as A,h as Q,g as m,f as h,K as M,x as j,q as le,D as k,a1 as re,e as ae,E as se}from"./index-15ea5d84.js";import{M as ie}from"./index-58e96b26.js";import{I as xe,a as Le}from"./index-99dc3421.js";import"./index-942def4f.js";var Y=Ee({name:"Space",props:{align:{type:String},direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:"small"},wrap:{type:Boolean},fill:{type:Boolean}},setup(e,{slots:n}){const t=we("space"),o=oe(()=>{var a;return(a=e.align)!=null?a:e.direction==="horizontal"?"center":""}),l=oe(()=>[t,{[`${t}-${e.direction}`]:e.direction,[`${t}-align-${o.value}`]:o.value,[`${t}-wrap`]:e.wrap,[`${t}-fill`]:e.fill}]);function r(a){if(Se(a))return a;switch(a){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}const s=a=>{const c={},b=`${r(te(e.size)?e.size[0]:e.size)}px`,g=`${r(te(e.size)?e.size[1]:e.size)}px`;return a?e.wrap?{marginBottom:g}:{}:(e.direction==="horizontal"&&(c.marginRight=b),(e.direction==="vertical"||e.wrap)&&(c.marginBottom=g),c)};return()=>{var a;const c=be((a=n.default)==null?void 0:a.call(n),!0).filter(b=>b.type!==$e);return d("div",{class:l.value},[c.map((b,g)=>{var D,P;const L=n.split&&g>0;return d(Z,{key:(D=b.key)!=null?D:`item-${g}`},[L&&d("div",{class:`${t}-item-split`,style:s(!1)},[(P=n.split)==null?void 0:P.call(n)]),d("div",{class:`${t}-item`,style:s(g===c.length-1)},[b])])})])}}});const Je=Object.assign(Y,{install:(e,n)=>{Be(e,n);const t=Ce(n);e.component(t+Y.name,Y)}});/**
 * @preserve
 * gcoord 1.0.6, geographic coordinate library
 * Copyright (c) 2024 Jiulong Hu <me@hujiulong.com>
 */const{sin:w,cos:Ne,sqrt:ee,abs:U,PI:p}=Math,ce=6378245,ue=.006693421622965823;function ve(e,n){return e>=72.004&&e<=137.8347&&n>=.8293&&n<=55.8271}function We(e,n){let t=-100+2*e+3*n+.2*n*n+.1*e*n+.2*ee(U(e));return t+=(20*w(6*e*p)+20*w(2*e*p))*2/3,t+=(20*w(n*p)+40*w(n/3*p))*2/3,t+=(160*w(n/12*p)+320*w(n*p/30))*2/3,t}function Oe(e,n){let t=300+e+2*n+.1*e*e+.1*e*n+.1*ee(U(e));return t+=(20*w(6*e*p)+20*w(2*e*p))*2/3,t+=(20*w(e*p)+40*w(e/3*p))*2/3,t+=(150*w(e/12*p)+300*w(e/30*p))*2/3,t}function Ae(e,n){let t=Oe(e-105,n-35),o=We(e-105,n-35);const l=n/180*p;let r=w(l);r=1-ue*r*r;const s=ee(r);return t=t*180/(ce/s*Ne(l)*p),o=o*180/(ce*(1-ue)/(r*s)*p),[t,o]}function x(e){const[n,t]=e;if(!ve(n,t))return[n,t];const o=Ae(n,t);return[n+o[0],t+o[1]]}function W(e){const[n,t]=e;if(!ve(n,t))return[n,t];let[o,l]=[n,t],r=x([o,l]),s=r[0]-n,a=r[1]-t;for(;U(s)>1e-6||U(a)>1e-6;)o-=s,l-=a,r=x([o,l]),s=r[0]-n,a=r[1]-t;return[o,l]}const{sin:V,cos:q,atan2:_e,sqrt:pe,PI:je}=Math,T=je*3e3/180;function N(e){const[n,t]=e,o=n-.0065,l=t-.006,r=pe(o*o+l*l)-2e-5*V(l*T),s=_e(l,o)-3e-6*q(o*T),a=r*q(s),c=r*V(s);return[a,c]}function O(e){const[n,t]=e,o=n,l=t,r=pe(o*o+l*l)+2e-5*V(l*T),s=_e(l,o)+3e-6*q(o*T),a=r*q(s)+.0065,c=r*V(s)+.006;return[a,c]}const de=180/Math.PI,fe=Math.PI/180,X=6378137,I=20037508342789244e-9;function z(e){return[e[0]*de/X,(Math.PI*.5-2*Math.atan(Math.exp(-e[1]/X)))*de]}function K(e){const n=Math.abs(e[0])<=180?e[0]:e[0]-(e[0]<0?-1:1)*360,t=[X*n*fe,X*Math.log(Math.tan(Math.PI*.25+.5*e[1]*fe))];return t[0]>I&&(t[0]=I),t[0]<-I&&(t[0]=-I),t[1]>I&&(t[1]=I),t[1]<-I&&(t[1]=-I),t}const{abs:R}=Math,me=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],ge=[75,60,45,30,15,0],ze=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],Fe=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Ge(e,n,t){const o=R(n)/t[9];let l=t[0]+t[1]*R(e),r=t[2]+t[3]*o+t[4]*Math.pow(o,2)+t[5]*Math.pow(o,3)+t[6]*Math.pow(o,4)+t[7]*Math.pow(o,5)+t[8]*Math.pow(o,6);return l*=e<0?-1:1,r*=n<0?-1:1,[l,r]}function H(e){const[n,t]=e;let o=[];for(let l=0;l<ge.length;l++)if(R(t)>ge[l]){o=Fe[l];break}return Ge(n,t,o)}function F(e){const[n,t]=e;let o=[];for(let l=0;l<me.length;l++)if(t>=me[l]){o=ze[l];break}return Ge(n,t,o)}function E(e,n){if(!e)throw new Error(n)}function ye(e){return!!e&&Object.prototype.toString.call(e)==="[object Array]"}function he(e){return!isNaN(Number(e))&&e!==null&&!ye(e)}function C(...e){const n=e.length-1;return function(...t){let o=n,l=e[n].apply(null,t);for(;o--;)l=e[o].call(null,l);return l}}function Me(e,n,t=!1){if(e===null)return;let o,l,r,s,a,c,b=0,g=0,D,P;const{type:L}=e,v=L==="FeatureCollection",f=L==="Feature",_=v?e.features.length:1;for(let S=0;S<_;S++){D=v?e.features[S].geometry:f?e.geometry:e,P=D?D.type==="GeometryCollection":!1,c=P?D.geometries.length:1;for(let G=0;G<c;G++){let y=0,u=0;if(s=P?D.geometries[G]:D,s===null)continue;const B=s.type;switch(b=t&&(B==="Polygon"||B==="MultiPolygon")?1:0,B){case null:break;case"Point":if(a=s.coordinates,n(a,g,S,y,u)===!1)return!1;g++,y++;break;case"LineString":case"MultiPoint":for(a=s.coordinates,o=0;o<a.length;o++){if(n(a[o],g,S,y,u)===!1)return!1;g++,B==="MultiPoint"&&y++}B==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(a=s.coordinates,o=0;o<a.length;o++){for(l=0;l<a[o].length-b;l++){if(n(a[o][l],g,S,y,u)===!1)return!1;g++}B==="MultiLineString"&&y++,B==="Polygon"&&u++}B==="Polygon"&&y++;break;case"MultiPolygon":for(a=s.coordinates,o=0;o<a.length;o++){for(u=0,l=0;l<a[o].length;l++){for(r=0;r<a[o][l].length-b;r++){if(n(a[o][l][r],g,S,y,u)===!1)return!1;g++}u++}y++}break;case"GeometryCollection":for(o=0;o<s.geometries.length;o++)if(Me(s.geometries[o],n,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}var i;(function(e){e.WGS84="WGS84",e.WGS1984="WGS84",e.EPSG4326="WGS84",e.GCJ02="GCJ02",e.AMap="GCJ02",e.BD09="BD09",e.BD09LL="BD09",e.Baidu="BD09",e.BMap="BD09",e.BD09MC="BD09MC",e.BD09Meter="BD09MC",e.EPSG3857="EPSG3857",e.EPSG900913="EPSG3857",e.EPSG102100="EPSG3857",e.WebMercator="EPSG3857",e.WM="EPSG3857"})(i||(i={}));const Ue={to:{[i.GCJ02]:x,[i.BD09]:C(O,x),[i.BD09MC]:C(H,O,x),[i.EPSG3857]:K}},Ve={to:{[i.WGS84]:W,[i.BD09]:O,[i.BD09MC]:C(H,O),[i.EPSG3857]:C(K,W)}},qe={to:{[i.WGS84]:C(W,N),[i.GCJ02]:N,[i.EPSG3857]:C(K,W,N),[i.BD09MC]:H}},Te={to:{[i.WGS84]:z,[i.GCJ02]:C(x,z),[i.BD09]:C(O,x,z),[i.BD09MC]:C(H,O,x,z)}},Xe={to:{[i.WGS84]:C(W,N,F),[i.GCJ02]:C(N,F),[i.EPSG3857]:C(K,W,N,F),[i.BD09]:F}},Ke={WGS84:Ue,GCJ02:Ve,BD09:qe,EPSG3857:Te,BD09MC:Xe};var He=Ke;function Qe(e,n,t){if(E(!!e,"The args[0] input coordinate is required"),E(!!n,"The args[1] original coordinate system is required"),E(!!t,"The args[2] target coordinate system is required"),n===t)return e;const o=He[n];E(!!o,`Invalid original coordinate system: ${n}`);const l=o.to[t];E(!!l,`Invalid target coordinate system: ${t}`);const r=typeof e;if(E(r==="string"||r==="object",`Invalid input coordinate type: ${r}`),r==="string")try{e=JSON.parse(e)}catch{throw new Error(`Invalid input coordinate: ${e}`)}let s=!1;ye(e)&&(E(e.length>=2,`Invalid input coordinate: ${e}`),E(he(e[0])&&he(e[1]),`Invalid input coordinate: ${e}`),e=e.map(Number),s=!0);const a=l;return s?a(e):(Me(e,c=>{[c[0],c[1]]=a(c)}),e)}const $=Object.assign(Object.assign({},i),{CRSTypes:i,transform:Qe}),Ye={class:"w-full min-h-[calc(100vh-58px)]"},Ze={class:"flex items-center ml-10 mt-10 w-1/2"},Re={class:"flex items-center w-1/3 mr-5"},et=m("h3",{class:"mr-5 w-2/3"},"\u8F6C\u6362\u524D\u5750\u6807\u7CFB",-1),tt={class:"flex items-center w-1/3 mr-5"},nt=m("h3",{class:"mr-5 w-2/3"},"\u8F6C\u6362\u540E\u5750\u6807\u7CFB",-1),ot={class:"flex items-center w-1/3 ml-5"},lt={class:"flex justify-between"},rt={"w-full":"",flex:""},at={class:"w-1/2 m-5"},st={class:"w-full flex justify-between items-center"},it=m("h2",{class:"m-5"},"\u8F6C\u6362\u524D\u5750\u6807",-1),ct={class:"buttons mr-5"},ut={class:"pl-5 pr-5"},dt={class:"w-1/2 m-5"},ft={class:"w-full flex justify-between items-center"},mt=m("h2",{class:"m-5"},"\u8F6C\u6362\u540E\u5750\u6807",-1),gt={class:"buttons mr-5"},ht={class:"pl-5 pr-5"},St={__name:"index",setup(e){const n=J(null),t=J([{label:"WGS84",value:$.WGS84},{label:"GCJ02",value:$.GCJ02},{label:"BD09",value:$.BD09},{label:"WebMercator",value:$.WebMercator}]),o=J($.WGS84),l=J($.WGS84),r=J(`  //\u7C98\u8D34\u6216\u4E0A\u4F20\u9700\u8981\u8F6C\u6362\u7684\u5750\u6807\u6570\u636E
  //\u652F\u6301\u8F6C\u6362\u7684\u6570\u636E\u683C\u5F0F
  //1. \u5355\u4E2A\u6570\u7EC4\u{1F447}
  // [
  //     121.134174,
  //     27.786029
  // ]
  //2.\u591A\u4E2A\u6570\u7EC4\u5D4C\u5957\u{1F447}
  // [
  //     [113.00018437474967,37.95992863432143],
  //     [106.32049687474967,31.987726366726363],
  //     [113.61541874974967,29.648110896899723],
  //     [113.61541874974967,9.648110896899723]
  // ]
  //3.\u6807\u51C6GeoJSON`),s=J(""),a=()=>{r.value="",s.value=""},c={autorefresh:!0,smartIndent:!0,tabSize:4,mode:"application/json",theme:"dracula",matchBrackets:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lint:!1,lineNumbers:!0,indentUnit:2,foldGutter:!0,styleActiveLine:!0},b=()=>{let v=s.value;console.log("copyText",v),v!==""&&(navigator.clipboard.writeText(v),ie.success("\u590D\u5236\u6210\u529F"))},g=()=>{if(o.value===l.value){ie.warning("\u8F6C\u6362\u524D\u5750\u6807\u7CFB\u4E0E\u8F6C\u6362\u540E\u5750\u6807\u7CFB\u4E0D\u80FD\u76F8\u540C");return}if(r.value!==""){const v=JSON.parse(r.value);if(Array.isArray(v[0])){let f=v.map(_=>$.transform(_,o.value,l.value));s.value=JSON.stringify(f,null,2)}else{let f=$.transform(v,o.value,l.value);s.value=JSON.stringify(f,null,2)}r.value=JSON.stringify(JSON.parse(r.value),null,2)}},D=()=>{n.value.click()},P=v=>{const f=v.target.files[0];if(!f)return;const _=new FileReader;_.onload=S=>{try{const G=JSON.parse(S.target.result);r.value=JSON.stringify(G,null,2)}catch(G){console.error("Error parsing GeoJSON file:",G)}},_.readAsText(f)},L=()=>{const v=new Blob([s.value],{type:"application/json"}),f=URL.createObjectURL(v),_=document.createElement("a");_.href=f,_.download="\u5750\u6807\u7CFB.json",document.body.appendChild(_),_.click(),setTimeout(()=>{URL.revokeObjectURL(f),document.body.removeChild(_)},0)};return(v,f)=>{const _=Ie,S=Pe,G=De,y=Je;return A(),Q("div",Ye,[m("div",Ze,[m("div",Re,[et,d(S,{modelValue:M(o),"onUpdate:modelValue":f[0]||(f[0]=u=>j(o)?o.value=u:null),class:"w-1/3"},{default:h(()=>[(A(!0),Q(Z,null,le(M(t),(u,B)=>(A(),ae(_,{key:B,value:u.value},{default:h(()=>[k(se(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),m("div",tt,[nt,d(S,{modelValue:M(l),"onUpdate:modelValue":f[1]||(f[1]=u=>j(l)?l.value=u:null),class:"w-1/3"},{default:h(()=>[(A(!0),Q(Z,null,le(M(t),(u,B)=>(A(),ae(_,{key:B,value:u.value},{default:h(()=>[k(se(u.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),m("div",ot,[d(G,{type:"primary",onClick:g,class:"mr-5"},{default:h(()=>[k(" \u8F6C\u6362 ")]),_:1})])]),m("div",lt,[m("div",rt,[m("div",at,[m("div",st,[it,m("div",ct,[d(y,null,{default:h(()=>[d(G,{onClick:a},{icon:h(()=>[d(M(ne))]),default:h(()=>[k("\u6E05\u7A7A")]),_:1}),d(G,{onClick:D},{icon:h(()=>[d(M(ke))]),default:h(()=>[k("\u4E0A\u4F20\u6587\u4EF6")]),_:1}),m("input",{ref_key:"fileInput",ref:n,type:"file",style:{display:"none"},onChange:P},null,544)]),_:1})])]),m("div",ut,[d(M(re),{value:M(r),"onUpdate:value":f[2]||(f[2]=u=>j(r)?r.value=u:null),options:c,height:600},null,8,["value"])])]),m("div",dt,[m("div",ft,[mt,m("div",gt,[d(y,null,{default:h(()=>[d(G,{onClick:b},{icon:h(()=>[d(M(xe))]),default:h(()=>[k("\u590D\u5236")]),_:1}),d(G,{onClick:a},{icon:h(()=>[d(M(ne))]),default:h(()=>[k("\u6E05\u7A7A")]),_:1}),d(G,{onClick:L},{icon:h(()=>[d(M(Le))]),default:h(()=>[k("\u4E0B\u8F7D")]),_:1})]),_:1})])]),m("div",ht,[d(M(re),{value:M(s),"onUpdate:value":f[3]||(f[3]=u=>j(s)?s.value=u:null),options:c,height:600},null,8,["value"])])])])])])}}};export{St as default};
