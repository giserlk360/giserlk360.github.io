import{g,e as V,_ as E,r as D,l as x,I as F,s as Z,d as G,t as q,J as z,A as K,c as W,q as J,K as R}from"./index-09a62be0.js";import{d as h,c as w,b as d,h as _,j as v,n as X,g as U,k as r,z as Y,F as M,I as Q,o as ee,Z as se,y as ne,a as u,l as P,e as p,i as I,f as te,a1 as oe,X as ie,m as ae,a5 as j,r as le}from"./index-35149953.js";import{d as re,I as ce,a as de,b as ue,e as fe,M as me}from"./pick-d2734456.js";const pe=h({name:"IconInfoCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:s}){const n=g("icon"),i=w(()=>[n,`${n}-info-circle-fill`,{[`${n}-spin`]:e.spin}]),a=w(()=>{const o={};return e.size&&(o.fontSize=V(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:i,innerStyle:a,onClick:o=>{s("click",o)}}}}),ve=["stroke-width","stroke-linecap","stroke-linejoin"],ge=U("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z",fill:"currentColor",stroke:"none"},null,-1),he=[ge];function ye(e,s,n,i,a,t){return d(),_("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:X(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:s[0]||(s[0]=(...o)=>e.onClick&&e.onClick(...o))},he,14,ve)}var O=E(pe,[["render",ye]]);const _e=Object.assign(O,{install:(e,s)=>{var n;const i=(n=s==null?void 0:s.iconPrefix)!=null?n:"";e.component(i+O.name,O)}}),Ce=5;var ke=h({name:"DotLoading",props:{size:{type:Number}},setup(e){const s=g("dot-loading");return()=>{const n=e.size?{width:`${e.size}px`,height:`${e.size}px`}:{};return r("div",{class:s,style:{width:e.size?`${e.size*7}px`:void 0,height:e.size?`${e.size}px`:void 0}},[Array(Ce).fill(1).map((i,a)=>r("div",{class:`${s}-item`,key:a,style:n},null))])}}}),S=h({name:"Spin",props:{size:{type:Number},loading:Boolean,dot:Boolean,tip:String,hideIcon:{type:Boolean,default:!1}},setup(e,{slots:s}){const n=g("spin"),i=Y(D,void 0),a=w(()=>[n,{[`${n}-loading`]:e.loading,[`${n}-with-tip`]:e.tip&&!s.default}]),t=()=>{if(s.icon){const l=x(s.icon());if(l)return Q(l,{spin:!0})}return s.element?s.element():e.dot?r(ke,{size:e.size},null):i!=null&&i.slots.loading?i.slots.loading():r(F,{spin:!0,size:e.size},null)},o=()=>{var l,c,y;const $=e.size?{fontSize:`${e.size}px`}:void 0,b=Boolean((l=s.tip)!=null?l:e.tip);return r(M,null,[!e.hideIcon&&r("div",{class:`${n}-icon`,style:$},[t()]),b&&r("div",{class:`${n}-tip`},[(y=(c=s.tip)==null?void 0:c.call(s))!=null?y:e.tip])])};return()=>r("div",{class:a.value},[s.default?r(M,null,[s.default(),e.loading&&r("div",{class:`${n}-mask`},[r("div",{class:`${n}-mask-icon`},[o()])])]):o()])}});const Fe=Object.assign(S,{install:(e,s)=>{Z(e,s);const n=G(s);e.component(n+S.name,S)}}),$e=h({name:"Message",components:{AIconHover:re,IconInfoCircleFill:_e,IconCheckCircleFill:ce,IconExclamationCircleFill:de,IconCloseCircleFill:ue,IconClose:fe,IconLoading:F},props:{type:{type:String,default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1},resetOnHover:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:s}){const n=g("message");let i=0;const a=()=>{s("close")},t=()=>{e.duration>0&&(i=window.setTimeout(a,e.duration))},o=()=>{i&&(window.clearTimeout(i),i=0)};return ee(()=>{t()}),se(()=>{e.resetOnUpdate&&(o(),t())}),ne(()=>{o()}),{handleMouseEnter:()=>{e.resetOnHover&&o()},handleMouseLeave:()=>{e.resetOnHover&&t()},prefixCls:n,handleClose:a}}});function be(e,s,n,i,a,t){const o=u("icon-info-circle-fill"),l=u("icon-check-circle-fill"),c=u("icon-exclamation-circle-fill"),y=u("icon-close-circle-fill"),$=u("icon-loading"),b=u("icon-close"),H=u("a-icon-hover");return d(),_("li",{role:"alert",class:v([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}]),onMouseenter:s[1]||(s[1]=(...m)=>e.handleMouseEnter&&e.handleMouseEnter(...m)),onMouseleave:s[2]||(s[2]=(...m)=>e.handleMouseLeave&&e.handleMouseLeave(...m))},[e.showIcon&&!(e.type==="normal"&&!e.$slots.icon)?(d(),_("span",{key:0,class:v(`${e.prefixCls}-icon`)},[P(e.$slots,"icon",{},()=>[e.type==="info"?(d(),p(o,{key:0})):e.type==="success"?(d(),p(l,{key:1})):e.type==="warning"?(d(),p(c,{key:2})):e.type==="error"?(d(),p(y,{key:3})):e.type==="loading"?(d(),p($,{key:4})):I("v-if",!0)])],2)):I("v-if",!0),U("span",{class:v(`${e.prefixCls}-content`)},[P(e.$slots,"default")],2),e.closable?(d(),_("span",{key:1,class:v(`${e.prefixCls}-close-btn`),onClick:s[0]||(s[0]=(...m)=>e.handleClose&&e.handleClose(...m))},[r(H,null,{default:te(()=>[r(b)]),_:1})],2)):I("v-if",!0)],34)}var Ie=E($e,[["render",be]]);function Oe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ie(e)}var Se=h({name:"MessageList",props:{messages:{type:Array,default:()=>[]},position:{type:String,default:"top"}},emits:["close","afterClose"],setup(e,s){const n=g("message-list"),{zIndex:i}=q("message",{runOnMounted:!0});return()=>{let a;return r(oe,{class:[n,`${n}-${e.position}`],name:"fade-message",tag:"ul",style:{zIndex:i.value},onAfterLeave:()=>s.emit("afterClose")},Oe(a=e.messages.map(t=>{const o={default:z(t.content),icon:z(t.icon)};return r(Ie,{key:t.id,type:t.type,duration:t.duration,closable:t.closable,resetOnUpdate:t.resetOnUpdate,resetOnHover:t.resetOnHover,onClose:()=>s.emit("close",t.id)},o)}))?a:{default:()=>[a]})}}}),we=Object.defineProperty,ze=Object.defineProperties,Me=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,N=(e,s,n)=>s in e?we(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,k=(e,s)=>{for(var n in s||(s={}))Pe.call(s,n)&&N(e,n,s[n]);if(B)for(var n of B(s))je.call(s,n)&&N(e,n,s[n]);return e},T=(e,s)=>ze(e,Me(s));class Be{constructor(s,n){this.messageCount=0,this.add=t=>{var o;this.messageCount++;const l=(o=t.id)!=null?o:`__arco_message_${this.messageCount}`;if(this.messageIds.has(l))return this.update(l,t);const c=ae(k({id:l},t));return this.messages.value.push(c),this.messageIds.add(l),{close:()=>this.remove(l)}},this.update=(t,o)=>{for(let l=0;l<this.messages.value.length;l++)if(this.messages.value[l].id===t){const c=!W(o.duration);Object.assign(this.messages.value[l],T(k({},o),{id:t,resetOnUpdate:c}));break}return{close:()=>this.remove(t)}},this.remove=t=>{for(let o=0;o<this.messages.value.length;o++){const l=this.messages.value[o];if(l.id===t){J(l.onClose)&&l.onClose(t),this.messages.value.splice(o,1),this.messageIds.delete(t);break}}},this.clear=()=>{this.messages.value.splice(0)},this.destroy=()=>{this.messages.value.length===0&&this.container&&(j(null,this.container),document.body.removeChild(this.container),this.container=null,f[this.position]=void 0)};const{position:i="top"}=s;this.container=R("message"),this.messageIds=new Set,this.messages=le([]),this.position=i;const a=r(Se,{messages:this.messages.value,position:i,onClose:this.remove,onAfterClose:this.destroy});(n!=null?n:L._context)&&(a.appContext=n!=null?n:L._context),j(a,this.container),document.body.appendChild(this.container)}}const f={},A=[...me,"loading","normal"],C=A.reduce((e,s)=>(e[s]=(n,i)=>{K(n)&&(n={content:n});const a=k({type:s},n),{position:t="top"}=a;return f[t]||(f[t]=new Be(a,i)),f[t].add(a)},e),{});C.clear=e=>{var s;e?(s=f[e])==null||s.clear():Object.values(f).forEach(n=>n==null?void 0:n.clear())};const L=T(k({},C),{install:e=>{const s={clear:C.clear};for(const n of A)s[n]=(i,a=e._context)=>C[n](i,a);e.config.globalProperties.$message=s},_context:null});export{L as M,Fe as S};
