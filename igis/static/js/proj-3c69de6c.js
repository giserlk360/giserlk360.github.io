const y={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":.3048006096012192};class k{constructor(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||y[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(r){this.defaultTileGrid_=r}setExtent(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)}setWorldExtent(r){this.worldExtent_=r}setGetPointResolution(r){this.getPointResolutionFunc_=r}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const D=k,_=6378137,R=Math.PI*_,j=[-R,-R,R,R],p=[-180,-85,180,85],G=_*Math.log(Math.tan(Math.PI/2));class M extends D{constructor(r){super({code:r,units:"m",extent:j,global:!0,worldExtent:p,getPointResolution:function(s,t){return s/Math.cosh(t[1]/_)}})}}const X=[new M("EPSG:3857"),new M("EPSG:102100"),new M("EPSG:102113"),new M("EPSG:900913"),new M("http://www.opengis.net/def/crs/EPSG/0/3857"),new M("http://www.opengis.net/gml/srs/epsg.xml#3857")];function x(n,r,s){const t=n.length;s=s>1?s:2,r===void 0&&(s>2?r=n.slice():r=new Array(t));for(let i=0;i<t;i+=s){r[i]=R*n[i]/180;let o=_*Math.log(Math.tan(Math.PI*(+n[i+1]+90)/360));o>G?o=G:o<-G&&(o=-G),r[i+1]=o}return r}function nn(n,r,s){const t=n.length;s=s>1?s:2,r===void 0&&(s>2?r=n.slice():r=new Array(t));for(let i=0;i<t;i+=s)r[i]=180*n[i]/R,r[i+1]=360*Math.atan(Math.exp(n[i+1]/_))/Math.PI-90;return r}const rn=6378137,L=[-180,-90,180,90],sn=Math.PI*rn/180;class d extends D{constructor(r,s){super({code:r,units:"degrees",extent:L,axisOrientation:s,global:!0,metersPerUnit:sn,worldExtent:L})}}const b=[new d("CRS:84"),new d("EPSG:4326","neu"),new d("urn:ogc:def:crs:OGC:1.3:CRS84"),new d("urn:ogc:def:crs:OGC:2:84"),new d("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new d("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new d("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let O={};function tn(n){return O[n]||O[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function on(n,r){O[n]=r}let m={};function C(n,r,s){const t=n.getCode(),i=r.getCode();t in m||(m[t]={}),m[t][i]=s}function an(n,r){let s;return n in m&&r in m[n]&&(s=m[n][r]),s}const u={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function An(n){const r=Y();for(let s=0,t=n.length;s<t;++s)cn(r,n[s]);return r}function Nn(n,r,s){return s?(s[0]=n[0]-r,s[1]=n[1]-r,s[2]=n[2]+r,s[3]=n[3]+r,s):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function Wn(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function Xn(n,r,s){let t,i;return r<n[0]?t=n[0]-r:n[2]<r?t=r-n[2]:t=0,s<n[1]?i=n[1]-s:n[3]<s?i=s-n[3]:i=0,t*t+i*i}function Ln(n,r){return fn(n,r[0],r[1])}function bn(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function fn(n,r,s){return n[0]<=r&&r<=n[2]&&n[1]<=s&&s<=n[3]}function $(n,r){const s=n[0],t=n[1],i=n[2],o=n[3],c=r[0],f=r[1];let a=u.UNKNOWN;return c<s?a=a|u.LEFT:c>i&&(a=a|u.RIGHT),f<t?a=a|u.BELOW:f>o&&(a=a|u.ABOVE),a===u.UNKNOWN&&(a=u.INTERSECTING),a}function Y(){return[1/0,1/0,-1/0,-1/0]}function A(n,r,s,t,i){return i?(i[0]=n,i[1]=r,i[2]=s,i[3]=t,i):[n,r,s,t]}function V(n){return A(1/0,1/0,-1/0,-1/0,n)}function $n(n,r){const s=n[0],t=n[1];return A(s,t,s,t,r)}function qn(n,r,s,t,i){const o=V(i);return en(o,n,r,s,t)}function Bn(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function Dn(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function cn(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function en(n,r,s,t,i){for(;s<t;s+=i)un(n,r[s],r[s+1]);return n}function un(n,r,s){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],s),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],s)}function Yn(n,r){let s;return s=r(H(n)),s||(s=r(K(n)),s)||(s=r(J(n)),s)||(s=r(v(n)),s)?s:!1}function Vn(n){let r=0;return dn(n)||(r=S(n)*gn(n)),r}function H(n){return[n[0],n[1]]}function K(n){return[n[2],n[1]]}function ln(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Hn(n,r){let s;if(r==="bottom-left")s=H(n);else if(r==="bottom-right")s=K(n);else if(r==="top-left")s=v(n);else if(r==="top-right")s=J(n);else throw new Error("Invalid corner");return s}function Kn(n,r,s,t,i){const[o,c,f,a,e,h,g,l]=hn(n,r,s,t);return A(Math.min(o,f,e,g),Math.min(c,a,h,l),Math.max(o,f,e,g),Math.max(c,a,h,l),i)}function hn(n,r,s,t){const i=r*t[0]/2,o=r*t[1]/2,c=Math.cos(s),f=Math.sin(s),a=i*c,e=i*f,h=o*c,g=o*f,l=n[0],E=n[1];return[l-a+g,E-e-h,l-a-g,E-e+h,l+a-g,E+e+h,l+a+g,E+e-h,l-a+g,E-e-h]}function gn(n){return n[3]-n[1]}function vn(n,r,s){const t=s||Y();return En(n,r)?(n[0]>r[0]?t[0]=n[0]:t[0]=r[0],n[1]>r[1]?t[1]=n[1]:t[1]=r[1],n[2]<r[2]?t[2]=n[2]:t[2]=r[2],n[3]<r[3]?t[3]=n[3]:t[3]=r[3]):V(t),t}function v(n){return[n[0],n[3]]}function J(n){return[n[2],n[3]]}function S(n){return n[2]-n[0]}function En(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function dn(n){return n[2]<n[0]||n[3]<n[1]}function Jn(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function Zn(n,r,s){let t=!1;const i=$(n,r),o=$(n,s);if(i===u.INTERSECTING||o===u.INTERSECTING)t=!0;else{const c=n[0],f=n[1],a=n[2],e=n[3],h=r[0],g=r[1],l=s[0],E=s[1],I=(E-g)/(l-h);let w,P;!!(o&u.ABOVE)&&!(i&u.ABOVE)&&(w=l-(E-e)/I,t=w>=c&&w<=a),!t&&!!(o&u.RIGHT)&&!(i&u.RIGHT)&&(P=E-(l-a)*I,t=P>=f&&P<=e),!t&&!!(o&u.BELOW)&&!(i&u.BELOW)&&(w=l-(E-f)/I,t=w>=c&&w<=a),!t&&!!(o&u.LEFT)&&!(i&u.LEFT)&&(P=E-(l-c)*I,t=P>=f&&P<=e)}return t}function wn(n,r){const s=r.getExtent(),t=ln(n);if(r.canWrapX()&&(t[0]<s[0]||t[0]>=s[2])){const i=S(s),c=Math.floor((t[0]-s[0])/i)*i;n[0]-=c,n[2]-=c}return n}function zn(n,r){if(r.canWrapX()){const s=r.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[s[0],n[1],s[2],n[3]]];wn(n,r);const t=S(s);if(S(n)>t)return[[s[0],n[1],s[2],n[3]]];if(n[0]<s[0])return[[n[0]+t,n[1],s[2],n[3]],[s[0],n[1],n[2],n[3]]];if(n[2]>s[2])return[[n[0],n[1],s[2],n[3]],[s[0],n[1],n[2]-t,n[3]]]}return[n]}function Qn(n,r,s){return Math.min(Math.max(n,r),s)}function kn(n,r,s,t,i,o){const c=i-s,f=o-t;if(c!==0||f!==0){const a=((n-s)*c+(r-t)*f)/(c*c+f*f);a>1?(s=i,t=o):a>0&&(s+=c*a,t+=f*a)}return Pn(n,r,s,t)}function Pn(n,r,s,t){const i=s-n,o=t-r;return i*i+o*o}function jn(n){const r=n.length;for(let t=0;t<r;t++){let i=t,o=Math.abs(n[t][t]);for(let f=t+1;f<r;f++){const a=Math.abs(n[f][t]);a>o&&(o=a,i=f)}if(o===0)return null;const c=n[i];n[i]=n[t],n[t]=c;for(let f=t+1;f<r;f++){const a=-n[f][t]/n[t][t];for(let e=t;e<r+1;e++)t==e?n[f][e]=0:n[f][e]+=a*n[t][e]}}const s=new Array(r);for(let t=r-1;t>=0;t--){s[t]=n[t][r]/n[t][t];for(let i=t-1;i>=0;i--)n[i][r]-=n[i][t]*s[t]}return s}function U(n){return n*Math.PI/180}function Mn(n,r){const s=n%r;return s*r<0?s+r:s}function pn(n,r,s){return n+s*(r-n)}function Z(n,r){const s=Math.pow(10,r);return Math.round(n*s)/s}function xn(n,r){return Math.floor(Z(n,r))}function nr(n,r){return Math.ceil(Z(n,r))}function rr(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function Rn(n,r){let s=!0;for(let t=n.length-1;t>=0;--t)if(n[t]!=r[t]){s=!1;break}return s}function sr(n,r){const s=Math.cos(r),t=Math.sin(r),i=n[0]*s-n[1]*t,o=n[1]*s+n[0]*t;return n[0]=i,n[1]=o,n}function tr(n,r){return n[0]*=r,n[1]*=r,n}function ir(n,r){if(r.canWrapX()){const s=S(r.getExtent()),t=mn(n,r,s);t&&(n[0]-=t*s)}return n}function mn(n,r,s){const t=r.getExtent();let i=0;return r.canWrapX()&&(n[0]<t[0]||n[0]>t[2])&&(s=s||S(t),i=Math.floor((n[0]-t[0])/s)),i}const Sn=63710088e-1;function q(n,r,s){s=s||Sn;const t=U(n[1]),i=U(r[1]),o=(i-t)/2,c=U(r[0]-n[0])/2,f=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(t)*Math.cos(i);return 2*s*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}const z={info:1,warn:2,error:3,none:4};let Tn=z.info;function _n(...n){Tn>z.warn||console.warn(...n)}let F=!0;function or(n){F=!(n===void 0?!0:n)}function N(n,r){if(r!==void 0){for(let s=0,t=n.length;s<t;++s)r[s]=n[s];r=r}else r=n.slice();return r}function Q(n,r){if(r!==void 0&&n!==r){for(let s=0,t=n.length;s<t;++s)r[s]=n[s];n=r}return n}function In(n){on(n.getCode(),n),C(n,n,N)}function Gn(n){n.forEach(In)}function T(n){return typeof n=="string"?tn(n):n||null}function ar(n,r,s,t){n=T(n);let i;const o=n.getPointResolutionFunc();if(o){if(i=o(r,s),t&&t!==n.getUnits()){const c=n.getMetersPerUnit();c&&(i=i*c/y[t])}}else{const c=n.getUnits();if(c=="degrees"&&!t||t=="degrees")i=r;else{const f=W(n,T("EPSG:4326"));if(f===Q&&c!=="degrees")i=r*n.getMetersPerUnit();else{let e=[s[0]-r/2,s[1],s[0]+r/2,s[1],s[0],s[1]-r/2,s[0],s[1]+r/2];e=f(e,e,2);const h=q(e.slice(0,2),e.slice(2,4)),g=q(e.slice(4,6),e.slice(6,8));i=(h+g)/2}const a=t?y[t]:n.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function B(n){Gn(n),n.forEach(function(r){n.forEach(function(s){r!==s&&C(r,s,N)})})}function Cn(n,r,s,t){n.forEach(function(i){r.forEach(function(o){C(i,o,s),C(o,i,t)})})}function fr(n,r){return n?typeof n=="string"?T(n):n:T(r)}function cr(n,r){const s=yn(n,r!==void 0?r:"EPSG:3857","EPSG:4326"),t=s[0];return(t<-180||t>180)&&(s[0]=Mn(t+180,360)-180),s}function er(n,r){if(n===r)return!0;const s=n.getUnits()===r.getUnits();return(n.getCode()===r.getCode()||W(n,r)===N)&&s}function W(n,r){const s=n.getCode(),t=r.getCode();let i=an(s,t);return i||(i=Q),i}function Un(n,r){const s=T(n),t=T(r);return W(s,t)}function yn(n,r,s){return Un(r,s)(n,void 0,n.length)}let On=null;function ur(){return On}function lr(n,r){return n}function hr(n,r){return F&&!Rn(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(F=!1,_n("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function gr(n,r){return n}function Er(n,r){return n}function Fn(){B(X),B(b),Cn(b,X,x,nn)}Fn();export{hn as $,Mn as A,sr as B,rr as C,lr as D,gr as E,Kn as F,Rn as G,or as H,ir as I,vn as J,tr as K,Bn as L,y as M,Wn as N,_n as O,v as P,J as Q,K as R,H as S,Vn as T,An as U,cn as V,Dn as W,jn as X,yn as Y,ar as Z,Ln as _,Qn as a,A as a0,nr as a1,xn as a2,Hn as a3,er as a4,zn as a5,$ as a6,u as a7,Nn as a8,Z as a9,W as aa,ur as ab,wn as ac,cr as ad,gn as b,bn as c,Y as d,V as e,T as f,S as g,Un as h,qn as i,ln as j,kn as k,pn as l,Xn as m,$n as n,fn as o,Yn as p,en as q,Jn as r,Pn as s,U as t,En as u,Zn as v,dn as w,fr as x,hr as y,Er as z};
